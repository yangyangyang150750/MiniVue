{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/component/Teleport.ts", "../src/createVnode.ts", "../src/h.ts", "../src/seq.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactiveEffect.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/watch.ts", "../src/scheduler.ts", "../src/component.ts", "../src/apiLifeCycle.ts", "../src/KeepAlive.ts", "../src/renderer.ts", "../src/apiInject.ts", "../src/component/Transition.ts", "../src/defineAsyncComponent.ts"],
  "sourcesContent": ["import { ReactiveFlags } from \"packages/reactivity/src/constants\"\r\n\r\nexport function isObject (value:any) {\r\n    return typeof value === 'object'&& value!=null\r\n}\r\n\r\nexport function isFunction(value){\r\n    return typeof value === 'function'\r\n}\r\n\r\nexport function isString(value){\r\n    return typeof value === 'string'\r\n}\r\n\r\nexport function isReactive(value) {\r\n    return !!(value && value[ReactiveFlags.IS_REACTIVE])\r\n}\r\n\r\nconst hasOwnProperty =Object.prototype.hasOwnProperty\r\nexport function hasOwn(target,key) {\r\n    return hasOwnProperty.call(target,key)\r\n}\r\n\r\nexport * from './shapeFlags'", "import { ShapeFlags } from \"@vue/shared\"\r\n\r\n// teleport \u5B9E\u4F8B\u5BF9\u8C61\r\nexport const Teleport ={\r\n    // \u6807\u8BC6\u662F\u5426\u4E3Ateleport\u7EC4\u4EF6\r\n    __isTeleport:true ,\r\n    remove(vnode,unmountChildren){\r\n        const {shapeFlag,children}=vnode\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n            unmountChildren(children)\r\n        }\r\n    },\r\n    // \u7EC4\u4EF6\u521D\u59CB\u5316\u65F6 \u4F1A\u8C03\u7528\u6B64\u65B9\u6CD5\r\n    process(preVNode,CurVNode,container,anchor,parentComponent,Operators){\r\n        // \u89E3\u6784\u65B9\u6CD5\r\n        const {mountChildren,patchChildren,query,move}=Operators\r\n        // \u5224\u65AD\u662F\u5426\u4E3A\u521D\u6B21\u6302\u8F7D\r\n        if (!preVNode) {\r\n            // \u82E5\u662F\u521D\u6B21\u6302\u8F7D\r\n            // \u83B7\u53D6\u76EE\u6807\u6302\u8F7D\u8282\u70B9\r\n            const target=(CurVNode.target=query(CurVNode.props.to))\r\n            if (target) {\r\n                // \u6E32\u67D3\u5B69\u5B50\u8282\u70B9\r\n                mountChildren(CurVNode.children,target,anchor,parentComponent)\r\n            }\r\n        } else {\r\n            // \u82E5\u4E3A\u66F4\u65B0\r\n            patchChildren(preVNode,CurVNode,preVNode.target,parentComponent) //\u53EA\u6BD4\u8F83\u4E86\u5B69\u5B50\u5DEE\u5F02\r\n            // \u590D\u7528\u8282\u70B9\r\n            CurVNode.target=preVNode.target\r\n\r\n            // \u5224\u65AD\u76EE\u6807\u6302\u8F7D\u8282\u70B9\u662F\u5426\u53D1\u751F\u53D8\u5316\r\n            if (CurVNode.props.to !== preVNode.props.to) {\r\n                // \u82E5\u53D1\u751F\u53D8\u5316\r\n                // \u5C06\u5B69\u5B50\u8282\u70B9\u91CD\u65B0\u79FB\u52A8\u81F3 \u65B0\u76EE\u6807\u6302\u8F7D\u8282\u70B9\r\n                const newTarget =(CurVNode.target=query(CurVNode.props.to))\r\n                CurVNode.children.forEach(child => move(child,newTarget,anchor));\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n// \u5224\u65AD\u5F53\u524D\u662F\u5426\u4E3Ateleport\u7EC4\u4EF6\r\nexport const isTeleport = (type)=>type.__isTeleport", "import { isFunction, isObject, isString, ShapeFlags } from \"@vue/shared\"\r\nimport { isTeleport } from \"./component/Teleport\"\r\n\r\n// \u521B\u5EFA\u6587\u672C\u7C7B\u578B\r\nexport const Text=Symbol('Text')\r\n// \u521B\u5EFA\u788E\u7247\u7C7B\u578B\r\nexport const Fragment = Symbol('Fragment')\r\n// \u521B\u5EFA\u865A\u62DF\u8282\u70B9\u65B9\u6CD5\r\nexport function createVNode(type,props,children?,patchFlag?) {\r\n    // \u82E5\u7C7B\u578B\u4E3A\u5B57\u7B26\u4E32 \u8BF4\u660E\u5F53\u524D\u865A\u62DF\u8282\u70B9\u4E3A\u666E\u901A\u5143\u7D20\r\n    // \u82E5\u7C7B\u578B\u4E3A\u5BF9\u8C61   \u8BF4\u660E\u5F53\u524D\u865A\u62DF\u8282\u70B9\u4E3A\u7EC4\u4EF6\r\n    let shapeFlag = isString(type)?ShapeFlags.ELEMENT:\r\n    isTeleport(type)?ShapeFlags.TELEPORT:\r\n    isObject(type)?ShapeFlags.STATEFUL_COMPONENT:\r\n    isFunction(type)?ShapeFlags.FUNCTIONAL_COMPONENT:0\r\n    // \u521B\u5EFA\u865A\u62DF\u8282\u70B9\u5BF9\u8C61\r\n    const vnode = {\r\n        // \u865A\u62DF\u8282\u70B9\u6807\u8BC6\r\n        __v_isVnode:true,\r\n        type,\r\n        props,\r\n        children,\r\n        key:props?.key, // \u7528\u4E8E\u540E\u7EED\u5B9E\u73B0diff\u7B97\u6CD5\r\n        shapeFlag,\r\n        ref:props?.ref,\r\n        patchFlag,\r\n    }\r\n\r\n    // \u6536\u96C6\u52A8\u6001\u8282\u70B9\r\n    if (currentBlock && patchFlag>0) {\r\n        currentBlock.push(vnode)\r\n    }\r\n\r\n    // \u5224\u65AD\u5B69\u5B50\u7C7B\u578B\r\n    if (children) {\r\n        if (Array.isArray(children)) {\r\n            // \u82E5\u662F\u6570\u7EC4\r\n            // \u66F4\u65B0shapeFlag\r\n            vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN\r\n        }else if (isObject(children)) {\r\n            // \u82E5\u662F\u5BF9\u8C61\r\n            // \u5219\u4E3A\u63D2\u69FDslot\r\n            vnode.shapeFlag |= ShapeFlags.SLOTS_CHILDREN\r\n        }else {\r\n            // \u6B64\u5904\u903B\u8F91 \u540E\u7EED\u5B9E\u73B0\r\n            // \u5148\u5C06\u5B69\u5B50 \u53D8\u4E3A\u5B57\u7B26\u4E32\r\n            children=String(children)\r\n            vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN\r\n        }\r\n    }\r\n\r\n    return vnode\r\n}\r\n\r\n// \u5224\u65AD\u662F\u5426\u4E3A\u865A\u62DF\u8282\u70B9\u65B9\u6CD5\r\nexport function isVnode(value) {\r\n    return !!(value && value.__v_isVnode)\r\n}\r\n\r\n// \u5224\u65AD\u4E24\u4E2A\u865A\u62DF\u8282\u70B9\u662F\u5426\u76F8\u540C\u7684\u65B9\u6CD5\r\nexport function isSameVnode(vnode1,vnode2) {\r\n    // \u53EA\u6709\u4E24\u4E2A\u865A\u62DF\u8282\u70B9 \u7C7B\u578B\u3001key \u90FD\u76F8\u540C\r\n    // \u624D\u80FD\u8BF4\u660E \u4E24\u4E2A\u865A\u62DF\u8282\u70B9\u76F8\u540C\r\n    return vnode1.type === vnode2.type && vnode1.key === vnode2.key\r\n}\r\n\r\n\r\n// \u6807\u8BC6\u5F53\u524D\u5757\r\nlet currentBlock = null\r\n\r\n// \u6536\u96C6\u52A8\u6001\u8282\u70B9\u65B9\u6CD5\r\nexport function openBlock() {\r\n    // \u521B\u5EFA\u6570\u7EC4 \r\n    // \u6536\u96C6\u52A8\u6001\u8282\u70B9\r\n    currentBlock=[]\r\n}\r\n\r\n// \u505C\u6B62\u6536\u96C6\u52A8\u6001\u8282\u70B9\u65B9\u6CD5\r\nexport function closeBlock() {\r\n    currentBlock=null\r\n}\r\n\r\n// \u521B\u5EFAblock\u65B9\u6CD5\r\nexport function setupBlock(vnode) {\r\n    // ElementBlock\u4F1A\u6536\u96C6\u52A8\u6001\u5B50\u8282\u70B9 \u901A\u8FC7\u5F53\u524Dblock\u6536\u96C6\r\n    vnode.dynamicChildren = currentBlock  \r\n    // \u6536\u96C6\u5B8C\u540E \u5F53\u524Dblock\u6E05\u7A7A\r\n    closeBlock()\r\n    return vnode  \r\n}\r\n\r\n// \u521B\u5EFA\u5143\u7D20block\u65B9\u6CD5\r\n// block \u5177\u6709\u6536\u96C6\u865A\u62DF\u8282\u70B9\u7684\u529F\u80FD\r\nexport function createElementBlock(type,props,children,patchFlag?) {\r\n\r\n    // \u521B\u5EFA\u865A\u62DF\u8282\u70B9\r\n    // \u5185\u90E8\u8FD8\u662F\u8C03\u7528createVNode\u521B\u5EFA\u865A\u62DF\u8282\u70B9\r\n    const vnode =createVNode(type,props,children,patchFlag)\r\n    \r\n    // // \u5904\u7406\u4E0D\u7A33\u5B9A\u60C5\u51B5\r\n    // // \u5B58\u5728v-if v-else\r\n    // if (currentBlock) {\r\n    //     // \u5B9E\u73B0block\u5D4C\u5957\r\n    //     currentBlock.push(vnode)\r\n    // }\r\n\r\n    // \u521B\u5EFAblock\r\n    return setupBlock(vnode)\r\n}\r\n\r\nexport {createVNode as createElementVNode}\r\n\r\nexport function isDisplayString(value) {\r\n    return isString(value)?value:value===null?'':isObject(value)?JSON.stringify(value):String(value)\r\n}", "import { isObject, isString, ShapeFlags } from \"@vue/shared\"\r\nimport { createVNode, isVnode } from \"./createVnode\"\r\n\r\nexport function h(type,propsOrChildren?,children?) {\r\n    // \u83B7\u53D6\u53C2\u6570\u957F\u5EA6\r\n    let l = arguments.length\r\n\r\n    // \u6839\u636E\u53C2\u6570\u957F\u5EA6 \u786E\u5B9A \u8C03\u7528\u521B\u5EFA\u865A\u62DF\u8282\u70B9\u65B9\u6CD5\u65F6 \u7684\u53C2\u6570\r\n    if (l === 2) {\r\n        // \u6B64\u65F6\u6709\u56DB\u79CD\u60C5\u51B5\r\n        // h('div',{class:'a'})\r\n        // h('div',h('div','son'))\r\n        // h('div',['yyy'])\r\n        // h('div','yyy')\r\n\r\n        if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\r\n            // \u82E5\u662F\u5BF9\u8C61 \u4F46\u4E0D\u662F\u6570\u7EC4\r\n            // \u6B64\u65F6 \u53EA\u6709\u524D\u4E24\u79CD\u60C5\u51B5 => \u5C5E\u6027|\u865A\u62DF\u8282\u70B9\r\n            if (isVnode(propsOrChildren)) {\r\n                // \u82E5\u662F\u865A\u62DF\u8282\u70B9\r\n                return createVNode(type,null,[propsOrChildren])\r\n            }else{\r\n                // \u82E5\u662F\u5C5E\u6027\r\n                return createVNode(type,propsOrChildren)\r\n            }\r\n        }\r\n\r\n        // \u82E5\u662F\u6570\u7EC4|\u6587\u672C\r\n        // \u5373\u540E\u4E24\u79CD\u60C5\u51B5\r\n        return createVNode(type,null,propsOrChildren)\r\n    }else{\r\n        if (l>3) {\r\n            // h('div',{class:'a'},'a','b')\r\n            // \u5C06\u7B2C\u4E09\u4E2A\u53CA\u4E4B\u540E\u7684\u53C2\u6570\u8F6C\u4E3A\u6570\u7EC4\r\n            children=Array.from(arguments).slice(2)\r\n        }\r\n\r\n        if (l ===3 && isVnode(children)) {\r\n            // h('div',{class:'a'},h('div'))\r\n            children=[children]\r\n        }\r\n        return createVNode(type,propsOrChildren,children)\r\n    }\r\n}\r\n", "// \u6C42\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\r\n\r\nexport function getSequence(arr) {\r\n    // \u83B7\u53D6\u603B\u957F\u5EA6\r\n    let length = arr.length\r\n    // \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7D22\u5F15\u503C\r\n    let result = [0]    //\u4ECE\u7B2C\u4E00\u4E2A\u5143\u7D20\u5F00\u59CB \u7D22\u5F15\u503C\u4E3A0\r\n    // \u4FDD\u5B58\u7ED3\u679C\u6570\u7EC4\u7684\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\r\n    let resultLastIndex\r\n    // \u7528\u4E8E\u6807\u8BC6\u7D22\u5F15\r\n    let p = arr.slice(0)\r\n    // \u904D\u5386\u6570\u7EC4\r\n    for (let i = 0; i < arr.length; i++) {\r\n        // \u83B7\u53D6\u5F53\u524D\u5143\u7D20\r\n        let arrI = arr[i]   \r\n\r\n        // \u7528\u4E8E\u4E8C\u5206\u67E5\u627E \r\n        // => \u627E\u6BD4\u5F53\u524D\u5143\u7D20\u5927\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\r\n        let star;\r\n        let end;\r\n        let middle;\r\n\r\n\r\n        // \u5224\u65AD\u5F53\u524D\u5143\u7D20\u662F\u5426\u4E3A0\r\n        // \u5982\u679C\u4E3A0 \u5219\u4E3A\u65B0\u589E\u5143\u7D20 \u4E0D\u7528\u5904\u7406\r\n        // \u5426\u5219 \u4E3A\u590D\u7528\u5143\u7D20 \u9700\u8981\u5904\u7406\r\n        if (arrI!=0) {\r\n            // \u82E5\u4E0D\u4E3A0\r\n            // \u83B7\u53D6\u7ED3\u679C\u6570\u7EC4\u4E2D\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\r\n            resultLastIndex=result[result.length-1]\r\n            // \u5224\u65AD\u7ED3\u679C\u6570\u7EC4\u4E2D\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\u5BF9\u5E94\u7684\u503C \u4E0E \u5F53\u524D\u5143\u7D20\u7684\u5927\u5C0F\u5173\u7CFB\r\n            if (arrI>arr[resultLastIndex]) {\r\n                // \u82E5\u5F53\u524D\u5143\u7D20\u503C\u5927\u4E8E\u7ED3\u679C\u6570\u7EC4\u4E2D\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\u5BF9\u5E94\u7684\u503C\r\n                // \u5219\u5C06\u5F53\u524D\u5143\u7D20\u7D22\u5F15\u52A0\u5165\u7ED3\u679C\u6570\u7EC4\u4E2D\r\n                result.push(i) \r\n                // \u8BA9\u5F53\u524D\u5143\u7D20\u8BB0\u4F4F\u5176\u524D\u4E00\u5143\u7D20\u7684\u7D22\u5F15\r\n                p[i]= resultLastIndex\r\n            }else{\r\n                // \u82E5\u5F53\u524D\u5143\u7D20\u503C\u5C0F\u4E8E\u7ED3\u679C\u6570\u7EC4\u4E2D\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\u5BF9\u5E94\u7684\u503C\r\n                // \u6B64\u65F6\u9700\u8981\u4E8C\u5206\u67E5\u627E\u7ED3\u679C\u6570\u7EC4\u4E2D \u7D22\u5F15\u5143\u7D20\u5BF9\u5E94\u7684\u503C \u5927\u4E8E \u5F53\u524D\u5143\u7D20\u503C\u7684\u7B2C\u4E00\u4E2A\u7D22\u5F15\r\n                \r\n                // \u521D\u59CB\u5316star end\r\n                star = 0\r\n                end = result.length-1\r\n\r\n                // \u5FAA\u73AF\u5224\u65AD\r\n                while(star<end){\r\n                    // \u66F4\u65B0middle\r\n                    middle = (star+end)/2|0 //|0 \u53EF\u5B9E\u73B0\u5411\u4E0B\u53D6\u6574\r\n                    // \u5224\u65ADmiddle\u4F4D\u7F6E\u7684\u7D22\u5F15\u5BF9\u5E94\u7684\u5143\u7D20\u503C \u4E0E \u5F53\u524D\u5143\u7D20\u5927\u5C0F\u5173\u7CFB\r\n                    if (arr[result[middle]]>arrI) {\r\n                        // \u82E5\u5927\u4E8E\r\n                        // end \u66F4\u65B0\u4E3A middle\r\n                        end = middle\r\n                    }else{\r\n                        // \u82E5\u5C0F\u4E8E\r\n                        star=middle+1\r\n                    }                    \r\n                }\r\n\r\n                // \u5F53star == end\u65F6 \u9000\u51FA\u5FAA\u73AF\r\n                // \u6B64\u65F6 star|end \u7D22\u5F15\u5BF9\u5E94\u7684\u503C \u662F \u7B2C\u4E00\u4E2A\u5927\u4E8E\u5F53\u524D\u5143\u7D20\u503C\u7684\u503C\r\n                // \u66F4\u65B0\u7ED3\u679C\u6570\u7EC4\r\n                if (arrI<arr[result[star]]) {\r\n                    p[i]=result[star-1]     //\u8BB0\u4F4F\u66FF\u6362\u7684\u5143\u7D20\u7684\u524D\u4E00\u9879\r\n                    result[star]=i\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    // \u56DE\u6EAF\r\n    // \u56E0\u4E3A\u6784\u5EFA\u7ED3\u679C\u6570\u7EC4\u65F6 \u5B58\u5728\u66FF\u6362\u64CD\u4F5C => \u539F\u6709\u987A\u5E8F\u88AB\u6253\u4E71\r\n    // \u6B64\u65F6 \u9700\u8981\u5229\u7528p\u4E2D\u4FDD\u5B58\u7684\u524D\u9A71\u8282\u70B9\u4FE1\u606F \u4ECE\u540E\u5F80\u524D\u56DE\u6EAF\r\n\r\n    // \u83B7\u53D6\u6570\u7EC4\u957F\u5EA6\r\n    let i = result.length\r\n    // \u83B7\u53D6\u7ED3\u679C\u6570\u7EC4\u6700\u540E\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\r\n    let lastIndex = result[i-1]\r\n    while(i-->0){\r\n        result[i] = lastIndex   \r\n        lastIndex = p[lastIndex]    //\u5229\u7528p\u4E2D\u4FDD\u5B58\u7684\u524D\u9A71\u8282\u70B9\u7D22\u5F15\u56DE\u6EAF\r\n    }\r\n\r\n    // \u8FD4\u56DE\u7ED3\u679C\u6570\u7EC4\r\n    return result\r\n}\r\n\r\ngetSequence([2,5,8,4,6,7,9,3])\r\n\r\n// \u6C42\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7684\u4E2A\u6570\uFF1F\uFF1F \r\n// 1\u3001\u5148\u6C42\u7ED3\u679C\u6570\u7EC4\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u548C\u5F53\u524D\u5143\u7D20\u503C\u5927\u5C0F\u5173\u7CFB\r\n// <1> \u82E5\u5927\u4E8E \u5219\u5C06\u5F53\u524D\u5143\u7D20\u52A0\u5165\u7ED3\u679C\u6570\u7EC4\u4E2D\r\n// <2> \u82E5\u5C0F\u4E8E \u5219\u53BB\u7ED3\u679C\u6570\u7EC4\u4E2D \u627E\u6BD4\u5F53\u524D\u5143\u7D20\u5927\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20 \u66FF\u6362\u5373\u53EF\r\n\r\n// [2 5 8 4 6 7 9 3]\r\n// >[2]     //\u4ECE\u7B2C\u4E00\u4E2A\u5143\u7D20\u5F00\u59CB\r\n// >[2 5]   //5 > 2 \u52A0\u5165\u7ED3\u679C\u6570\u7EC4\r\n// >[2 5 8]     //8 > 5 \u52A0\u5165\u7ED3\u679C\u6570\u7EC4\r\n// >[2 4 8]     //4 < 8 \u5728\u7ED3\u679C\u6570\u7EC4\u4E2D\u627E\u7B2C\u4E00\u4E2A\u5927\u4E8E4\u7684\u5143\u7D20 \u5E76\u66FF\u6362\r\n// >[2 4 6]     //6 < 8 \u5728\u7ED3\u679C\u6570\u7EC4\u4E2D\u627E\u7B2C\u4E00\u4E2A\u5927\u4E8E6\u7684\u5143\u7D20 \u5E76\u66FF\u6362\r\n// >[2 4 6 7]   //7 > 6 \u52A0\u5165\u7ED3\u679C\u6570\u7EC4\r\n// >[2 4 6 7 9] //9 > 7 \u52A0\u5165\u7ED3\u679C\u6570\u7EC4\r\n// >[3 4 6 7 9] //3 < 9 \u5728\u7ED3\u679C\u6570\u7EC4\u4E2D\u627E\u7B2C\u4E00\u4E2A\u5927\u4E8E3\u7684\u5143\u7D20 \u5E76\u66FF\u6362", "import { DirtyLevel } from \"./constants\"\r\n\r\n// \u6E05\u9664effect\u7684\u4F9D\u8D56\r\nconst preCleanEffect = (effect)=>{\r\n    // \u8BB0\u5F55\u4E0E\u5F53\u524Deffect\u7ED1\u5B9A\u7684\u5C5E\u6027\u7684 \u6570\u7EC4deps \u957F\u5EA6\u6E05\u96F6\r\n    effect._depsLength=0\r\n    // \u5F53\u524Deffect\u6267\u884C\u6B21\u6570+1\r\n    effect._trackId++\r\n}\r\n\r\n// \u6E05\u9664\u5F53\u524Deffect\u591A\u4F59\u7684\u5C5E\u6027\u4F9D\u8D56\r\nconst postCleanEffect = (effect)=>{\r\n    // \u65E7\uFF1A[flag,name,a,b,c]\r\n    // \u65B0\uFF1A[flag]       => effect._depsLength =1\r\n\r\n    // \u5224\u65AD\u662F\u5426\u6709\u591A\u4F59\u4F9D\u8D56\r\n    if (effect.deps.length > effect._depsLength) {\r\n        // \u82E5\u6709\r\n        // \u5FAA\u73AF\u5220\u9664\r\n        for(let i =effect._depsLength;i<effect.deps.length;i++ ){\r\n            // \u8C03\u7528\u5220\u9664effect\u65B9\u6CD5\r\n            cleanDepEffect(effect.deps[i],effect)\r\n        }\r\n        //\u66F4\u65B0\u4F9D\u8D56\u5217\u8868\u957F\u5EA6\r\n        effect.deps.length = effect._depsLength\r\n    }\r\n}\r\n\r\n// effect \u65B9\u6CD5\r\nexport function effect(fn,options?) {\r\n    // fn\u4E3A\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\r\n    // options\u4E3A\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4F8B\u5982watch\u91CC\u7684lazy\r\n    // \u4F8B\uFF1Aeffect(()=>{\r\n    //      document.querySelector('#id').innerHTML=proxyObj.name\r\n    //      })\r\n    \r\n    // \u521B\u5EFA\u54CD\u5E94\u5F0Feffect\u5BF9\u8C61\r\n    // fn\u4E3A\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\r\n    // \u7B2C\u4E8C\u4E2A\u53C2\u6570\u662Fscheduler \u5F53fn\u6240\u4F9D\u8D56\u7684\u53D8\u91CF\u53D1\u751F\u53D8\u5316\u65F6\u7684\u56DE\u8C03\u51FD\u6570\r\n    // \u4F8B\uFF1A\r\n    // \u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0Cfn\u4F9D\u8D56\u7684\u53D8\u91CF\u662FproxyObj.name\r\n    // \u5F53proxyObj.name \u540E\u7EED\u6539\u53D8\u65F6 \u4F1A\u89E6\u53D1_effect\u7684scheduler\u56DE\u8C03\r\n    const _effect=new ReactiveEffect(fn,()=>{\r\n        // \u9ED8\u8BA4\u56DE\u8C03\u65B9\u6CD5\r\n        _effect.run()\r\n    })\r\n\r\n    // \u5224\u65AD\u7528\u6237\u662F\u5426\u4F20\u5165scheduler\r\n    if (options) {\r\n        // \u82E5\u4F20\u5165\r\n        // \u5229\u7528assign\u65B9\u6CD5 \u8986\u76D6\u9ED8\u8BA4\u7684scheduler\r\n        Object.assign(_effect,options)\r\n    }\r\n\r\n    // effect\u4F1A\u9ED8\u8BA4\u6267\u884C\u4E00\u6B21\r\n    _effect.run()\r\n\r\n    // \u5C06run\u65B9\u6CD5\u66B4\u9732\r\n    let runner = _effect.run.bind(_effect)\r\n    runner.effect = _effect\r\n    // \u5C06\u54CD\u5E94\u5F0Feffect\u5BF9\u8C61\u8FD4\u56DE\r\n    return runner\r\n}\r\n\r\n// \u5168\u5C40effect\r\nexport let activeEffect\r\n\r\n// \u8BB0\u5F55\u7236effect\r\n// \u53EF\u7528\u4E8E\u5904\u7406effect\u5D4C\u5957\u7684\u60C5\u51B5\r\nlet lastEffect \r\n\r\n\r\n\r\n// \u5C06dep\u4F9D\u8D56\u8868\u4E2D\u7684\u5F53\u524Deffect\u6E05\u9664\r\nconst cleanDepEffect=(dep,effect)=>{\r\n    // \u6E05\u9664\u5F53\u524Deffect\r\n    dep.delete(effect)\r\n    // \u82E5\u5F53\u524Ddep\u4F9D\u8D56\u8868\u4E3A\u7A7A \u5219\u5220\u9664\u6B64\u8868\r\n    if (dep.size ===0) {\r\n        dep.cleanup()\r\n    }\r\n}\r\n// \u521B\u5EFA\u54CD\u5E94\u5F0Feffect\u5BF9\u8C61\r\nexport class ReactiveEffect{\r\n    // \u6807\u8BB0\u5F53\u524D\u662F\u5426\u5728\u8FD0\u884C\r\n    _running=0      // \u7528\u4E8E\u907F\u514D\u6B7B\u5FAA\u73AF\r\n    // \u8BB0\u5F55\u5F53\u524Deffect\u6267\u884C\u4E86\u51E0\u6B21\r\n    _trackId = 0\r\n    // \u8BB0\u5F55\u4E0E\u5F53\u524Deffect\u7ED1\u5B9A\u7684\u5C5E\u6027\r\n    deps=[]\r\n    _depsLength=0\r\n    // \u8868\u793A\u662F\u5426\u662F\u810F\u7684 \u5373\u662F\u5426\u9700\u8981\u91CD\u65B0\u6267\u884C\u8BA1\u7B97\u5C5E\u6027\r\n    _dirtyLevel = DirtyLevel.Dirty  // \u9ED8\u8BA4\u4E3A\u810F\u6570\u636E\r\n    // \u6807\u8BC6\u5F53\u524Deffect\u662F\u5426\u4E3A\u54CD\u5E94\u5F0F\r\n    public active = true \r\n    // \u6784\u9020\u51FD\u6570\r\n    constructor(public fn,public scheduler){\r\n    }\r\n    // \u83B7\u53D6\u5F53\u524D\u662F\u5426\u4E3A\u810F\u6570\u636E\u65B9\u6CD5\r\n    public get dirty(){\r\n        return this._dirtyLevel === DirtyLevel.Dirty\r\n    }\r\n    // \u8BBE\u7F6E\u5F53\u524D\u4E3A\u810F\u6570\u636E\u65B9\u6CD5\r\n    public set dirty(v){\r\n        this._dirtyLevel = v?DirtyLevel.Dirty:DirtyLevel.NoDirty\r\n    }\r\n    // run\u65B9\u6CD5\r\n    run(){\r\n        // \u6BCF\u6B21\u8FD0\u884C\u540E \u5F53\u524D\u6570\u636E\u5C31\u4E3A\u5E72\u51C0\u6570\u636E\r\n        this._dirtyLevel=DirtyLevel.NoDirty\r\n        // \u5224\u65AD\u5F53\u524Deffect\u662F\u5426\u4E3A\u54CD\u5E94\u5F0F\r\n        if (!this.active) {\r\n            // \u82E5\u4E0D\u662F\u54CD\u5E94\u5F0F\r\n            // \u76F4\u63A5\u6267\u884C\u51FD\u6570\u5373\u53EF\r\n            return this.fn()\r\n        }\r\n        // \u82E5\u662F\u54CD\u5E94\u5F0F\r\n        try {\r\n            // 1\u3001\u5C06\u4E0A\u4E00\u4E2Aeffect\u4F5C\u4E3A\u7236effect\r\n            lastEffect = activeEffect\r\n            // 2\u3001\u5C06\u5F53\u524Deffect\u6302\u8F7D\u81F3\u5168\u5C40\r\n            activeEffect=this\r\n            // 3\u3001\u6E05\u9664\u5F53\u524Deffect\u7684\u4F9D\u8D56\r\n            preCleanEffect(this)\r\n            // 4\u3001\u6267\u884Cfn\u65B9\u6CD5\r\n            this._running++\r\n            return this.fn()\r\n        } finally{\r\n            postCleanEffect(this)\r\n            // \u5C06\u7236effect\u6302\u8F7D\u81F3\u5168\u5C40\r\n            activeEffect=lastEffect\r\n            this._running--\r\n        }\r\n    }\r\n    // stop\u65B9\u6CD5\r\n    stop(){\r\n        if (this.active) {\r\n            this.active=false\r\n            preCleanEffect(this)\r\n            postCleanEffect(this)\r\n        }\r\n    }\r\n}\r\n\r\n// \u4F9D\u8D56\u6536\u96C6\r\nexport const trackEffect = (effect,dep)=>{\r\n    // \u53C2\u6570effect \u4E3A\u5F53\u524Deffect\r\n    // \u53C2\u6570dep \u4E3A\u5C5E\u6027\u4E0Eeffect\u7684\u6620\u5C04\u8868\r\n\r\n    /*\r\n        \u4F18\u5316\u540E \r\n        \u5F53effect\u4E2D\u91CD\u590D\u51FA\u73B0\u67D0\u4E00\u5C5E\u6027\u65F6\r\n        \u53EF\u4EE5\u907F\u514D\u540C\u4E00\u5C5E\u6027 \u591A\u6B21\u6536\u96C6\u540C\u4E00effect\r\n    */\r\n    // \u4F18\u5316\u540E\uFF1A\r\n    if (dep.get(effect) !== effect._trackId) {\r\n        // \u82E5\u662F\u7B2C\u4E00\u6B21\u6536\u96C6\u4F9D\u8D56 \r\n        // dep.get(effect) \u4E3Aundefined\r\n\r\n        // 1\u3001\u6620\u5C04\u8868\u8BB0\u5F55\u5F53\u524Deffect\u4EE5\u53CA\u5176\u6267\u884C\u6B21\u6570\r\n        dep.set(effect,effect._trackId)     // \u66F4\u65B0id\r\n\r\n        // 2\u3001\u5F53\u524Deffect\u8BB0\u5F55\u4E0E\u5176\u7ED1\u5B9A\u7684\u5C5E\u6027\u7684dep\r\n        // * * * * * \u7B80\u6613diff\u7B97\u6CD5 * * * * *\r\n        // 2-1 \u83B7\u53D6\u65E7dep\u503C\r\n        let oldDep =effect.deps[effect._depsLength]\r\n        // 2-2 \u5224\u65AD\u65B0\u65E7dep\u503C\u662F\u5426\u76F8\u540C\r\n        if (oldDep != dep) {\r\n            // \u82E5\u4E0D\u540C\r\n            // 2-3 \u5224\u65AD\u65E7dep\u662F\u5426\u6709\u503C\r\n            if (oldDep) {\r\n                // \u82E5\u6709\u503C \u5219\u5220\u9664\u65E7dep\r\n                cleanDepEffect(oldDep,effect)\r\n            }\r\n            // 2-4 \u66FF\u6362\u65B0dep\r\n            effect.deps[effect._depsLength++]= dep\r\n        }else{\r\n            // \u82E5\u76F8\u540C\r\n            effect._depsLength++\r\n        }\r\n    } \r\n\r\n    // \u4F18\u5316\u524D\uFF1A\r\n    // 1\u3001\u6620\u5C04\u8868\u8BB0\u5F55\u5F53\u524Deffect\u4EE5\u53CA\u5176\u6267\u884C\u6B21\u6570\r\n    // dep.set(effect,effect._trackId)\r\n    // 2\u3001\u5F53\u524Deffect\u8BB0\u5F55\u4E0E\u5176\u7ED1\u5B9A\u7684\u5C5E\u6027\u7684dep\r\n    // effect.deps[effect._depsLength++]=dep  \r\n}\r\n\r\n// \u6FC0\u6D3B\u4F9D\u8D56\r\nexport const triggerEffects = (dep)=>{\r\n    // \u53C2\u6570dep\u4E3A\u5F53\u524D\u5C5E\u6027\u7684effect\u4F9D\u8D56\r\n    // \u6B64\u65F6 \u8BA9\u8FD9\u4E9Beffect\u4F9D\u6B21\u6267\u884C\u5C31\u53EF\r\n    for(let effect of dep.keys()){\r\n        // \u5224\u65AD\u5F53\u524Deffect\u662F\u5426\u4E3A\u810F\r\n        if (effect._dirtyLevel < DirtyLevel.Dirty) {\r\n            // \u82E5\u662F\u5E72\u51C0\u6570\u636E\uFF0C \u5219\u5C06\u5176\u53D8\u4E3A\u810F\r\n            effect._dirtyLevel = DirtyLevel.Dirty\r\n        }\r\n\r\n        // \u8C03\u7528effect\u7684\u56DE\u8C03\u65B9\u6CD5\r\n        if (effect.scheduler) {\r\n            // \u5F53\u524Deffect\u6267\u884C\u5B8C\u6BD5 \u624D\u53EF\u6267\u884C\r\n            if (!effect._running) {\r\n                effect.scheduler() \r\n            }\r\n        }\r\n    }\r\n}", "import { activeEffect, effect, trackEffect, triggerEffects } from \"./effect\";\r\n\r\n// \u521B\u5EFA\u6620\u5C04\u8868\r\nconst targetMap = new WeakMap()\r\n// \u6620\u5C04\u8868\u7684\u7ED3\u6784\r\n// targetMap:WeakMap{\r\n    // Key:target1 => Value:Map{\r\n        // Key:key1 => Value:Map{\r\n            // effect1,effect2...\r\n        // },\r\n        // Key:key2 => Value:Map{\r\n            // effect1,effect2...\r\n        // }\r\n    // },\r\n    // Key:target2 => Value:Map{\r\n        // Key:key1 => Value:Map{\r\n            // effect1,effect2...\r\n        // },\r\n        // Key:key2 => Value:Map{\r\n            // effect1,effect2...\r\n        // }\r\n    // },\r\n    // ...\r\n// }\r\n\r\n// \u521B\u5EFA\u4F9D\u8D56\u8868\u51FD\u6570\r\nexport const createDep = (cleanup)=>{\r\n    let dep:any =  new Map()\r\n    // \u7ED9\u5F53\u524D\u5C5E\u6027\u5BF9\u5E94\u7684\u4F9D\u8D56\u8868 \u7ED1\u5B9Acleanup\u5C5E\u6027\r\n    dep.cleanup = cleanup\r\n    return dep\r\n}\r\n\r\n// \u4F9D\u8D56\u6536\u96C6\r\nexport function track(target,key) {\r\n    // \u5148\u5224\u65AD\u662F\u5426\u662F\u5728effect\u4E2D\u8BFB\u53D6\u6B64\u5C5E\u6027\r\n    // \u53EA\u6709\u5728effect\u4E2D\u8BFB\u53D6\u6B64\u5C5E\u6027 \u624D\u4F1A\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\r\n    if (activeEffect) {\r\n        // 1\u3001\u67E5\u770B\u5F53\u524D\u5BF9\u8C61\u662F\u5426\u5DF2\u7ECF\u7F13\u5B58\r\n        let desMap =targetMap.get(target)   \r\n        // 1-1 \u82E5\u672A\u7F13\u5B58 \u5219\u6DFB\u52A0\u7F13\u5B58\r\n        if (!desMap) {\r\n            // \u6DFB\u52A0\u7F13\u5B58\r\n            targetMap.set(target,(desMap=new Map()))\r\n        }\r\n\r\n        // 2\u3001\u67E5\u770B\u5F53\u524D\u5C5E\u6027\u662F\u5426\u7F13\u5B58\u8FC7\r\n        let dep = desMap.get(key)\r\n        // 2-1 \u82E5\u672A\u7F13\u5B58 \u5219\u6DFB\u52A0\u7F13\u5B58\r\n        if (!dep) {\r\n            desMap.set(key,(dep = createDep(()=>desMap.delete(key)))) //\u540E\u9762\u7528\u4E8E\u6E05\u9664\u4E0D\u9700\u8981\u7684\u5C5E\u6027\r\n        }\r\n\r\n        // \u5C06\u5F53\u524Deffect \u52A0\u5165 \u6B64\u5C5E\u6027\u4E2D\r\n        // \u4F9D\u8D56\u6536\u96C6\r\n        trackEffect(activeEffect,dep)\r\n    }\r\n}\r\n\r\n// \u89E6\u53D1\u4F9D\u8D56\r\nexport function trigger(target,key,newValue,oldValue) {\r\n    // 1\u3001\u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u662F\u5426\u4E0Eeffect\u5B58\u5728\u6620\u5C04\r\n    // \u5373 \u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u662F\u5426\u5B58\u4E8E\u6620\u5C04\u8868\u4E2D\r\n    let depsMap = targetMap.get(target)\r\n    if (!depsMap) {\r\n        // \u82E5\u5F53\u524D\u5BF9\u8C61\u4E0D\u5728\u6620\u5C04\u8868\u4E2D \u8BF4\u660E\u4E0D\u5B58\u5728\u6620\u5C04\r\n        // \u6CA1\u6709\u5BF9\u5E94\u4F9D\u8D56 \u76F4\u63A5\u8FD4\u56DE\r\n        return\r\n    }\r\n\r\n    // 2\u3001\u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u7684key\u5C5E\u6027\u662F\u5426\u4E0Eeffect\u5B58\u5728\u6620\u5C04\r\n    // \u5373 \u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u7684key\u5C5E\u6027\u662F\u5426\u5728desMap\u4E2D\r\n    let dep = depsMap.get(key)\r\n    if (dep) {\r\n        // \u82E5\u5728desMap\u4E2D\r\n        // \u6B64\u65F6dep\u4E2D \u5373\u4E3A\u5F53\u524D\u5C5E\u6027\u4F9D\u8D56\u7684effect\r\n        // \u8C03\u7528\u6FC0\u6D3B\u4F9D\u8D56\u65B9\u6CD5\r\n        triggerEffects(dep)\r\n    }\r\n}", "import { isObject } from \"@vue/shared\";\r\nimport { activeEffect } from \"./effect\";\r\nimport { track, trigger } from \"./reactiveEffect\";\r\nimport { reactive } from \"./reactive\";\r\nimport { ReactiveFlags } from \"./constants\";\r\n\r\n\r\n// \u4EE3\u7406\u903B\u8F91\r\nexport const mutableHandlers:ProxyHandler<any>= {\r\n    // \u8BFB\u53D6\u5BF9\u8C61\u5C5E\u6027\u65F6\u7684\u56DE\u8C03\u65B9\u6CD5\r\n    get(target,key,receiver){    //receiver \u6307\u5411\u4EE3\u7406\u540E\u7684\u5BF9\u8C61\r\n        if (key ===ReactiveFlags.IS_REACTIVE ) {\r\n            return true\r\n        }\r\n\r\n        // \u4F9D\u8D56\u6536\u96C6\r\n        track(target,key)\r\n          \r\n        // Reflect\u4F5C\u7528 => \u7528\u4E8E\u4FEE\u6539this\u6307\u5411\r\n        // \u82E5target[key] \u662F\u4E00\u4E2Agetter\u51FD\u6570\r\n        // \u53EF\u4EE5\u8BA9\u5176\u4E2D\u7684this \u6307\u5411receiver\r\n        let res = Reflect.get(target,key,receiver)\r\n\r\n        // \u5B9E\u73B0\u9012\u5F52\u4EE3\u7406\r\n        if (isObject(res)) {\r\n            res=reactive(res)\r\n        }\r\n        return res\r\n    },\r\n    // \u8BBE\u7F6E\u5BF9\u8C61\u5C5E\u6027\u65F6\u7684\u56DE\u8C03\u65B9\u6CD5\r\n    set(target,key,value,receiver){     //receiver \u6307\u5411\u4EE3\u7406\u540E\u7684\u5BF9\u8C61\r\n\r\n        // 1\u3001\u83B7\u53D6\u65E7\u503C\r\n        let oldValue = target[key]\r\n\r\n        // Reflect\u4F5C\u7528 => \u7528\u4E8E\u4FEE\u6539this\u6307\u5411\r\n        // \u82E5target[key] \u662F\u4E00\u4E2Asetter\u51FD\u6570\r\n        // \u53EF\u4EE5\u8BA9\u5176\u4E2D\u7684this \u6307\u5411receiver\r\n        let result=Reflect.set(target,key,value,receiver)\r\n\r\n        // 2\u3001\u5224\u65AD\u662F\u5426\u53D1\u751F\u4FEE\u6539 \u5373\u65B0\u65E7\u503C\u662F\u5426\u76F8\u540C\r\n        if (oldValue !== value) {\r\n            // \u82E5\u53D1\u751F\u4FEE\u6539\r\n            // \u89E6\u53D1\u4F9D\u8D56\u66F4\u65B0\r\n            trigger(target,key,value,oldValue)\r\n        }\r\n        \r\n        \r\n        return result\r\n    }\r\n}", "import { isObject } from \"@vue/shared\";\r\nimport { mutableHandlers,  } from \"./baseHandler\";\r\nimport { ReactiveFlags } from \"./constants\";\r\n\r\n\r\n\r\nexport function reactive(target) {\r\n    // \u8C03\u7528\u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61\u65B9\u6CD5 \u7EDF\u4E00\u5904\u7406\r\n    return createReactiveObject(target)\r\n}\r\n\r\n// \u7F13\u5B58 \u5BF9\u8C61 \u4E0E\u5176 \u4EE3\u7406\u5BF9\u8C61 \u7684\u6620\u5C04\r\n// \u7528\u4E8E \u907F\u514D\u91CD\u590D\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61\r\nconst reactiveMap =new WeakMap()\r\n\r\n// \u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61\u65B9\u6CD5\r\nfunction createReactiveObject(target){\r\n    // * * *\r\n    // \u5224\u65AD\u5F53\u524D\u662F\u5426\u4E3A\u5BF9\u8C61\r\n    // \u82E5\u4E0D\u662F\u5BF9\u8C61 \u76F4\u63A5\u8FD4\u56DE \u4E0D\u505A\u54CD\u5E94\u5F0F\r\n    // \u4F8B\uFF1Areactive(123) => 123\r\n    if (!isObject(target)) {\r\n        return target\r\n    }\r\n\r\n    // \u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u662F\u5426\u4E3A\u4EE3\u7406\u5BF9\u8C61\r\n    // \u666E\u901A\u5BF9\u8C61\u4E00\u5B9A\u4E3Anull \u800C\u4EE3\u7406\u5BF9\u8C61\u5219\u4F1A\u8FDB\u5165get\u56DE\u8C03\u51FD\u6570\u5185\r\n    // \u6B64\u65F6\u53EF\u4EE5\u5728get\u56DE\u8C03\u51FD\u6570\u5185 \u5904\u7406\u76F8\u5173\u903B\u8F91\r\n    if (target[ReactiveFlags.IS_REACTIVE]) {\r\n        // \u82E5\u5F53\u524D\u5BF9\u8C61\u4E3A\u4EE3\u7406\u5BF9\u8C61\r\n        // \u5219\u76F4\u63A5\u8FD4\u56DE  \u4E0D\u5FC5\u518D\u505A\u4EE3\u7406\r\n        return target\r\n    }\r\n\r\n    // \u5224\u65AD\u5F53\u524D\u5BF9\u8C61 \u662F\u5426\u5DF2\u7ECF\u4EE3\u7406\u8FC7\r\n    // \u5373\uFF1A\u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u662F\u5426\u5728reactiveMap\u7F13\u5B58\u8FC7\r\n    const exitsProxy = reactiveMap.get(target)\r\n    if (exitsProxy) {\r\n        // \u82E5\u7F13\u5B58\u8FC7\r\n        // \u8FD4\u56DE\u5176\u4EE3\u7406\u5BF9\u8C61\r\n        return exitsProxy\r\n    }\r\n\r\n    // \u82E5\u662F\u5BF9\u8C61 \u5219\u5BF9\u5176\u505A\u4EE3\u7406\r\n    // \u666E\u901A\u5BF9\u8C61 => \u4EE3\u7406\u5BF9\u8C61\r\n    // target\uFF1A\u76EE\u6807\u5BF9\u8C61 mutableHandlers\uFF1A\u4EE3\u7406\u903B\u8F91\r\n    let proxy = new Proxy(target,mutableHandlers)\r\n\r\n    // \u4EE3\u7406\u5B8C\u6210\u540E \r\n    // \u5C06\u5F53\u524D\u5BF9\u8C61 \u53CA\u5176 \u4EE3\u7406 \u7F13\u5B58\r\n    reactiveMap.set(target,proxy)\r\n\r\n    return proxy\r\n}\r\n\r\n// \u5C06\u5BF9\u8C61\u8F6C\u6362\u6210\u54CD\u5E94\u5F0F\u5BF9\u8C61\u7684\u65B9\u6CD5\r\nexport function toReactive(obj) {\r\n    return isObject(obj)? reactive(obj) : obj\r\n}\r\n", "import { activeEffect, trackEffect, triggerEffects } from \"./effect\"\r\nimport { toReactive } from \"./reactive\"\r\nimport { createDep } from \"./reactiveEffect\"\r\n\r\n// \u5224\u65AD\u662F\u5426\u4E3Aref\u65B9\u6CD5\r\nexport function isRef(value) {\r\n    return !!(value && value.__v_isRef)\r\n}\r\n\r\n// ref \u65B9\u6CD5\r\nexport const ref =(value)=>{\r\n    // \u8C03\u7528\u521B\u5EFAref\u65B9\u6CD5\r\n    return createRef(value)\r\n}\r\n\r\n// \u521B\u5EFAref\u65B9\u6CD5\r\nconst createRef = (value)=>{\r\n    // \u8FD4\u56DE\u4E00\u4E2ARefImpl\u5B9E\u4F8B\u5BF9\u8C61\r\n    return new RefImpl(value)\r\n}\r\n\r\n// RefImpl \u7C7B\r\nexport class RefImpl{\r\n    // \u8868\u793A\u5F53\u524D\u5BF9\u8C61\u4E3Aref\u5B9E\u4F8B\u5BF9\u8C61\r\n    __v_isRef=true\r\n    // \u7528\u4E8E\u4FDD\u5B58\u5F53\u524Dref\u7684\u503C\r\n    _value = undefined\r\n    // \u4FDD\u5B58\u5F53\u524D\u5BF9\u8C61\u7684\u4F9D\u8D56\r\n    dep\r\n    // \u6784\u9020\u5668\r\n    constructor(public rawValue){\r\n        // \u82E5rawValue \u5219\u5C06\u5176\u8F6C\u6362\u4E3Areactive\u5BF9\u8C61\r\n        this._value=toReactive(rawValue)\r\n    }\r\n    // get\u65B9\u6CD5\r\n    get value(){\r\n        // \u4F9D\u8D56\u6536\u96C6\r\n        trackRefValue(this)\r\n        return this._value\r\n    }\r\n    // set\u65B9\u6CD5\r\n    set value(newValue){\r\n        // \u5224\u65AD\u5F53\u524D\u65B0\u503C\u4E0E\u65E7\u503C\u662F\u5426\u76F8\u540C\r\n        if (newValue !== this.rawValue) {\r\n            // \u4E0D\u540C \u624D\u9700\u8981\u66F4\u65B0\r\n            this.rawValue=newValue  //\u66F4\u65B0\r\n            this._value=newValue\r\n            // \u4F9D\u8D56\u66F4\u65B0\r\n            triggerRefValue(this)\r\n        }\r\n    }\r\n}\r\n\r\n// \u4F9D\u8D56\u6536\u96C6\r\nexport const trackRefValue = (ref)=>{\r\n    // \u53EA\u6709\u5728effect \u4E2D\r\n    // \u624D\u9700\u8981\u4F9D\u8D56\u6536\u96C6\r\n    if (activeEffect) {\r\n        // \u8C03\u7528\u6536\u96C6\u4F9D\u8D56\u65B9\u6CD5\r\n        trackEffect(activeEffect,(ref.dep = ref.dep||createDep(()=>ref.dep=undefined)))\r\n    }\r\n}\r\n\r\n// \u4F9D\u8D56\u66F4\u65B0\r\nexport const triggerRefValue = (ref)=>{\r\n    let dep = ref.dep\r\n    if (dep) {\r\n        // \u8C03\u7528\u4F9D\u8D56\u66F4\u65B0\u65B9\u6CD5\r\n        triggerEffects(dep)\r\n    }\r\n}\r\n\r\n// ObjectRefImpl\u5BF9\u8C61\r\nclass ObjectRefImpl {\r\n    // \u8868\u793A\u5F53\u524D\u5BF9\u8C61\u4E3Aref\u5B9E\u4F8B\u5BF9\u8C61\r\n    public __v_isRef:true\r\n    constructor(public _object,public _key){\r\n    }\r\n    get value(){\r\n        return this._object[this._key]\r\n    }\r\n    set value(newValue){\r\n        this._object[this._key]=newValue\r\n    }\r\n}\r\n\r\n// toRef\r\nexport function toRef(object,key) {\r\n    // \u8FD4\u56DE\u4E00\u4E2AObjectRefImpl\u5BF9\u8C61\r\n    return new ObjectRefImpl(object,key)\r\n}\r\n\r\n// toRefs\r\nexport function toRefs(object){\r\n    // \u4FDD\u5B58\u7ED3\u679C\u5BF9\u8C61\r\n    const res = {}\r\n    // \u5FAA\u73AF\u5F53\u524D\u5BF9\u8C61\r\n    for (let key in object) {\r\n        // \u5BF9\u6BCF\u4E2A\u5C5E\u6027\u90FD\u5305\u88F9\u4E3Aref\r\n        res[key]= toRef(object,key)\r\n    }\r\n    console.log(res);\r\n    \r\n    return res\r\n}\r\n\r\n// proxyRefs\r\nexport function proxyRefs(objectWithRef){\r\n    return new Proxy(objectWithRef,{\r\n        get(target,key,receiver){\r\n            let r = Reflect.get(target,key,receiver)\r\n            return r.__v_isRef?r.value:r    // \u5B9E\u73B0\u81EA\u52A8.value\r\n        },\r\n        set(target,key,value,receiver){\r\n            // \u83B7\u53D6\u65E7\u503C\r\n            let oldValue = target[key]\r\n            // \u5224\u65AD\u65E7\u503C\u662F\u5426\u4E3Aref\r\n            if (oldValue.__v_isRef) {\r\n                // \u82E5\u662Fref\r\n                oldValue.value = value\r\n                return true\r\n            }else{\r\n                // \u5426\u5219\r\n                return Reflect.set(target,key,value,receiver)\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n", "import { isFunction } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { trackRefValue, triggerRefValue } from \"./ref\";\r\n\r\nclass ComputedRefImpl{\r\n    // \u4FDD\u5B58\u65E7\u503C\r\n    public _value\r\n    public effect\r\n    // \u4FDD\u5B58\u6B64\u8BA1\u7B97\u5C5E\u6027\u7684\u4F9D\u8D56\r\n    public dep\r\n    // \u6784\u9020\u5668\r\n    constructor(getter,public setter){\r\n        // \u6211\u4EEC\u9700\u8981\u521B\u5EFAeffect \u7528\u4E8E\u7BA1\u7406\u5F53\u524D\u8BA1\u7B97\u5C5E\u6027\u7684dirty\u5C5E\u6027\r\n        this.effect = new ReactiveEffect(\r\n            ()=>getter(this._value),\r\n            ()=>{\r\n                // \u8BA1\u7B97\u5C5E\u6027\u4F9D\u8D56\u7684\u5C5E\u6027\u6539\u53D8\u65F6 \u89E6\u53D1\u6B64\u56DE\u8C03\r\n                // \u4F9D\u8D56\u66F4\u65B0\r\n                triggerRefValue(this) // \u91CD\u65B0\u6267\u884C\u6B64\u8BA1\u7B97\u5C5E\u6027\u7ED1\u5B9A\u7684effect\r\n            }\r\n        )\r\n    }\r\n    get value(){\r\n        // \u53D6\u503C\u65F6\r\n        // \u6536\u96C6\u4F9D\u8D56\r\n        trackRefValue(this)\r\n        // \u5224\u65AD\u5F53\u524D\u8BA1\u7B97\u5C5E\u6027\u662F\u5426\u4E3A\u810F\u6570\u636E\r\n        if (this.effect.dirty) {\r\n            // \u82E5\u662F\u810F\u6570\u636E\r\n            // => \u6267\u884Ceffect,\u7F13\u5B58\u6267\u884C\u7ED3\u679C,\u5E76\u5C06\u7ED3\u679C\u8FD4\u56DE\r\n            this._value = this.effect.run()  // \u6BCF\u6B21run\u65F6\uFF0C\u4F1A\u5C06\u5F53\u524D\u8BA1\u7B97\u5C5E\u6027\u53D8\u4E3A\u5E72\u51C0\u6570\u636E\r\n        }\r\n        // => \u8FD4\u56DE\u7F13\u5B58\u7ED3\u679C\r\n        return this._value\r\n    }\r\n    set value(newValue){\r\n        // \u8C03\u7528ref\u7684setter\u65B9\u6CD5\r\n        this.setter(newValue)\r\n    }\r\n\r\n\r\n}\r\n\r\n// computed\u65B9\u6CD5\r\nexport function computed(getterOrOptions) {\r\n    // \u6CE8\u610F\uFF01\uFF01\r\n    // \u7531\u4E8Ecomputed\u6709\u5BF9\u8C61\u5F0F\u548C\u51FD\u6570\u5F0F\u5199\u6CD5\r\n    // \u6240\u4EE5 \u53C2\u6570\u53EF\u80FD\u4E3A\u51FD\u6570\u6216\u5BF9\u8C61\r\n    // => \u9700\u8981\u5206\u60C5\u51B5\u8BA8\u8BBA\r\n\r\n    // 1\u3001\u5B9E\u73B0getter\u548Csetter\u65B9\u6CD5\r\n    // \u8BB0\u5F55getter\u548Csetter\u65B9\u6CD5\r\n    let getter\r\n    let setter\r\n    // \u6807\u8BC6\u5F53\u524D\u53C2\u6570\u662F\u5426\u4E3A\u51FD\u6570\r\n    let onlyGetter = isFunction(getterOrOptions)\r\n    // \u5224\u65ADonlyGetter\u7684\u503C\r\n    if (onlyGetter) {\r\n        // \u82E5\u5F53\u524D\u53C2\u6570\u4E3A\u51FD\u6570\r\n        getter = getterOrOptions    // \u5F53\u524D\u53C2\u6570\u5373\u4E3Agetter\u65B9\u6CD5\r\n        setter = ()=>{}     // setter\u4E3A\u7A7A\u51FD\u6570\r\n    }else{\r\n        // \u82E5\u5F53\u524D\u53C2\u6570\u4E3A\u5BF9\u8C61\r\n        getter = getterOrOptions.get\r\n        setter = getterOrOptions.set\r\n    }\r\n\r\n    // 2\u3001\u8FD4\u56DE\u8BA1\u7B97\u5C5E\u6027ref\r\n    return new ComputedRefImpl(getter,setter)\r\n}", "import { isFunction, isObject,isReactive } from \"@vue/shared\"\r\nimport { ReactiveEffect } from \"./effect\"\r\nimport { isRef } from \"./ref\"\r\n\r\n// watch\u65B9\u6CD5\r\nexport function watch(source,callBack,options={} as any) {\r\n    // source => \u88AB\u76D1\u63A7\u5BF9\u8C61\r\n    // callBack => \u88AB\u76D1\u63A7\u5BF9\u8C61\u6539\u53D8\u65F6\u7684\u56DE\u8C03\r\n    // options => \u914D\u7F6E\u5BF9\u8C61 \u9ED8\u8BA4\u4E3A\u7A7A\u5BF9\u8C61\r\n\r\n    // watch\u65B9\u6CD5\u672C\u8D28\u4E0A\u4E5F\u662F\u4E00\u4E2Aeffect\r\n    // \u5C06source\u7EF4\u62A4\u6210\u4E00\u4E2A\u53D6\u503C\u5668getter \u5185\u90E8\u503C\u53D8\u5316\u65F6\uFF0C\u89E6\u53D1callBack\u56DE\u8C03\r\n    // \u7C7B\u4F3C\u4E8E new ReactiveEffect(getter,scheduler)\r\n\r\n    // \u8FD4\u56DE\u4E00\u4E2A\u5C01\u88C5\u7684doWatch\u65B9\u6CD5\r\n    // \u4FBF\u4E8E\u540E\u7EED\u5B9E\u73B0watchEffect(\u4E5F\u662F\u57FA\u4E8EdoWatch\u5B9E\u73B0)\r\n    return doWatch(source,callBack,options)\r\n\r\n}\r\n\r\n// watchEffect\u65B9\u6CD5\r\nexport function watchEffect(source,options={} as any) {\r\n    // source => \u88AB\u76D1\u63A7\u5BF9\u8C61\r\n    // options => \u914D\u7F6E\u5BF9\u8C61 \u9ED8\u8BA4\u4E3A\u7A7A\u5BF9\u8C61\r\n\r\n    // watchEffect\u65B9\u6CD5\u672C\u8D28\u4E0A\u4E5F\u662F\u4E00\u4E2Aeffect\r\n    // \u7C7B\u4F3C\u4E8E new ReactiveEffect(getter,getter)\r\n\r\n    // \u8FD4\u56DE\u4E00\u4E2A\u5C01\u88C5\u7684doWatch\u65B9\u6CD5\r\n    return doWatch(source,null,options) //watchEffect\u65B9\u6CD5\u6CA1\u6709\u56DE\u8C03\u53C2\u6570\r\n}\r\n\r\n// \u904D\u5386\u65B9\u6CD5\r\nfunction traverse(source,depth,currentDepth=0,seen=new Set()){\r\n    // \u5224\u65AD\u662F\u5426\u4E3A\u5BF9\u8C61\r\n    if (!isObject(source)) {\r\n        // \u5982\u679C\u4E0D\u662F\u5BF9\u8C61 \u65E0\u9700\u904D\u5386\r\n        return source\r\n    }\r\n\r\n    // \u5224\u65AD\u662F\u5426\u4E3A\u6DF1\u5EA6\u76D1\u89C6\r\n    if (depth) {\r\n        // \u82E5\u4E0D\u662F\u6DF1\u5EA6\u76D1\u89C6\r\n        if (currentDepth>=depth) {\r\n            // \u5F53\u524D\u904D\u5386\u6DF1\u5EA6\u8FBE\u5230\u6307\u5B9A\u6DF1\u5EA6\u65F6 \u4E0D\u518D\u904D\u5386\r\n            return source\r\n        }\r\n        currentDepth++\r\n    }\r\n\r\n    // \u5224\u65AD\u662F\u5426\u904D\u5386\u8FC7\u6B64\u5BF9\u8C61\r\n    // \u7528\u4E8E\u907F\u514D\u5FAA\u73AF\u904D\u5386\r\n    if (seen.has(source)) {\r\n        // \u82E5\u904D\u5386\u8FC7\r\n        // \u76F4\u63A5\u8FD4\u56DE\r\n        return source\r\n    }\r\n\r\n    // \u9012\u5F52\u904D\u5386\r\n    for (const key in source) {\r\n        traverse(source[key],depth,currentDepth,seen)\r\n    }\r\n}\r\n\r\n// doWatch\u65B9\u6CD5\r\nfunction doWatch(source,callBack,{deep,immediate}) {\r\n    // \u56E0\u4E3Awatch\u65B9\u6CD5\u672C\u8D28\u4E0A\u4E5F\u662Feffect \u6240\u4EE5\u6211\u4EEC\u4E5F\u9700\u8981\u521B\u5EFAReactiveEffect\r\n    // \u4E3A\u6B64\u6211\u4EEC\u9700\u8981\u521B\u5EFA getter\u548Cscheduler\r\n\r\n    // 1\u3001\u521B\u5EFAgetter\r\n    // \u4E3A\u4E86\u5B9E\u73B0\u5C06source\u5185\u7684\u5C5E\u6027\u4E0E\u6240\u5728effect\u7ED1\u5B9A\r\n    // => getter\u65B9\u6CD5\u9700\u8981\u904D\u5386\u5F53\u524Dsource\r\n\r\n    const reactiveGetter = (source)=>traverse(source,deep===false?1:undefined)\r\n    // \u4EA7\u751F\u4E00\u4E2A\u53EF\u4EE5\u7ED9ReactiveEffect\u4F7F\u7528\u7684getter\r\n    // \u80FD\u591F\u8BFB\u53D6source\u5185\u7684\u5C5E\u6027 \u4ECE\u800C\u4E0E\u6240\u5728effect\u7ED1\u5B9A\r\n    let getter \r\n    // \u5224\u65AD\u5F53\u524D\u5BF9\u8C61\u7C7B\u578B\r\n    if (isReactive(source)) {\r\n        // \u82E5\u662F\u54CD\u5E94\u5F0F\u5BF9\u8C61 \r\n        getter = ()=>reactiveGetter(source) //\u9012\u5F52\u904D\u5386\u6B64\u5BF9\u8C61\r\n    }else if (isRef(source)) {\r\n        // \u82E5\u662Fref\u5BF9\u8C61\r\n        getter = ()=>source.value   // \u8BBF\u95EE.value\r\n    }else if (isFunction(source)) {\r\n        // \u82E5\u662F\u51FD\u6570\r\n        getter = source     //\u5F53\u524Dsource\u5C31\u662Fsetter\r\n    }\r\n\r\n    // \u5C06\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\u5305\u88F9\r\n    let clean ;\r\n    // \u521B\u5EFAonCleanup\u65B9\u6CD5\r\n    function onCleanup(fn) {\r\n        // fn\u4E3A\u7528\u6237\u4F20\u5165\u7684\u51FD\u6570\r\n        clean = ()=>{\r\n            // 1\u3001\u6267\u884Cfn\r\n            fn()\r\n            // 2\u3001\u6E05\u9664\u81EA\u8EAB\r\n            clean=undefined\r\n        }\r\n    }\r\n    // 2\u3001\u521B\u5EFAscheduler\r\n    let oldValue\r\n    let scheduler = ()=>{\r\n        // \u5224\u65AD\u662F\u5426\u6709\u56DE\u8C03\r\n        // \u7528\u4E8E\u65B9\u4FBF\u662Fwatch \u8FD8\u662F watchEffect\r\n        if (callBack) {\r\n            // \u6267\u884Ceffect => \u6267\u884Cgetter\u65B9\u6CD5 \u83B7\u53D6\u65B0\u503C\r\n            const newValue = effect.run()\r\n            // \u5224\u65AD\u662F\u5426\u5B58\u5728\u6E05\u7406\u51FD\u6570\r\n            if (clean) {\r\n                // \u82E5\u5B58\u5728\r\n                // \u8C03\u7528\u6E05\u7406\u51FD\u6570\r\n                clean() // \u6267\u884C\u56DE\u8C03\u524D \u6267\u884C\u4E0A\u4E00\u6B21\u7684\u6E05\u7406\u64CD\u4F5C\r\n            }\r\n            // \u8C03\u7528\u7528\u6237\u4F20\u5165\u7684\u56DE\u8C03\u65B9\u6CD5\r\n            callBack(oldValue,newValue,onCleanup)\r\n            // \u66F4\u65B0\u65E7\u503C\r\n            oldValue=newValue\r\n        }else{\r\n            // watchEffect\u7684\u903B\u8F91\r\n            // \u6267\u884Ceffect => \u6267\u884Cgetter\u65B9\u6CD5\r\n            effect.run()\r\n        }\r\n    }\r\n\r\n    // \u521B\u5EFAeffect\r\n    let effect =new ReactiveEffect(getter,scheduler)\r\n\r\n    \r\n    // \u5224\u65AD\u662F\u5426\u4F20\u5165callBack\r\n    // \u5373 \u5224\u65AD\u662Fwatch \u8FD8\u662F watchEffect\r\n    if (callBack) {\r\n        // \u82E5\u6709callBack\r\n        // \u5219\u4E3Awatch\r\n\r\n        // \u5224\u65AD\u662F\u5426\u4F20\u5165immediate\u5C5E\u6027\r\n        if (immediate) {\r\n            // \u82E5\u6709immediate\r\n            // \u8BA1\u7B97\u5C5E\u6027effect\u7684\u56DE\u8C03\u7ACB\u5373\u6267\u884C\u4E00\u6B21\r\n            scheduler()\r\n        } else {\r\n            // \u82E5\u6CA1\u6709immediate\r\n            // \u8C03\u7528getter\u65B9\u6CD5 \u83B7\u53D6\u65E7\u503C\r\n            oldValue =effect.run()\r\n        }\r\n    }else{\r\n        // watchEffect\r\n        effect.run()\r\n    }\r\n\r\n    // \u6DFB\u52A0stop\u65B9\u6CD5\r\n    const unwatch = ()=>{\r\n        effect.stop()\r\n    }\r\n\r\n    return unwatch\r\n}", "\r\n// \u5B9A\u4E49\u4EFB\u52A1\u961F\u5217\r\nconst queue=[]\r\n// \u5B9A\u4E49\u5F53\u524D\u4EFB\u52A1\u662F\u5426\u6B63\u5728\u6267\u884C\r\nlet isFlushing = false\r\n// \u5B9A\u4E49\u4E00\u4E2A\u6210\u529F\u7684promise\r\nlet resolvePromise = Promise.resolve()\r\nexport const queueJob=(job)=>{\r\n    // \u5B9E\u73B0\u53BB\u91CD\r\n    if (!queue.includes(job)) {\r\n        queue.push(job) //\u4EFB\u52A1\u5165\u961F\r\n    }\r\n\r\n    // \u5904\u7406\u4EFB\u52A1\u961F\u5217\r\n    if (!isFlushing) { //\u82E5\u5F53\u524D\u4EFB\u52A1\u672A\u6267\u884C \u5219\u8FDB\u5165\u903B\u8F91\r\n        // \u4FEE\u6539\u6267\u884C\u72B6\u6001\r\n        isFlushing=true\r\n        // \u6267\u884C\u4EFB\u52A1\r\n        resolvePromise.then(()=>{\r\n            // \u4FEE\u6539\u6267\u884C\u72B6\u6001\r\n            isFlushing=false\r\n            // \u62F7\u8D1D\u5F53\u524D\u4EFB\u52A1\r\n            let copy = queue.slice(0)\r\n            // \u4EFB\u52A1\u961F\u5217\u7F6E\u7A7A\r\n            queue.length=0\r\n            // \u6267\u884C\u4EFB\u52A1\r\n            copy.forEach((job)=>job())\r\n            // \u526F\u672C\u7F6E\u7A7A\r\n            copy.length=0\r\n        })\r\n    }\r\n}", "import { proxyRefs, reactive } from \"@vue/reactivity\"\r\nimport { hasOwn, isFunction, ShapeFlags } from \"@vue/shared\"\r\n\r\n// 1\u3001\u521B\u5EFA\u7EC4\u4EF6\r\nexport function createComponentInstance(vnode,parent) {\r\n    // 1\u3001\u89E3\u6784\u5F53\u524D\u7EC4\u4EF6\u865A\u62DF\u8282\u70B9\r\n    // \u89E3\u6784\u51FA\u72B6\u6001(\u6570\u636E)\u3001 render\u65B9\u6CD5 \u3001props\r\n    const {data=()=>{},render,props:propsOption=()=>{}}= vnode.type // \u6CE8\u610F\u662F \u4ECE.type\u4E0A\u89E3\u6784\r\n    // 2\u3001\u5C06data\u5305\u88F9\u4E3A\u54CD\u5E94\u5F0F\r\n    // data\u65B9\u6CD5\u6267\u884C \u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61 \u5BF9\u6B64\u5BF9\u8C61\u5305\u88F9\u4E3A\u54CD\u5E94\u5F0F\r\n    const ReactiveData=reactive(data())\r\n    // 3\u3001 \u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B\u5BF9\u8C61\r\n    const instance = {\r\n        data:ReactiveData, // \u6570\u636E\r\n        vnode, // \u4FDD\u5B58\u5F53\u524D\u7EC4\u4EF6\u5BF9\u5E94\u7684\u865A\u62DF\u8282\u70B9\r\n        isMounted:false,    // \u6807\u8BB0\u662F\u5426\u6302\u8F7D\r\n        subTree:null,   // \u4FDD\u5B58\u5B50\u6811 \u771F\u6B63\u9700\u8981\u6E32\u67D3\u7684\u865A\u62DF\u8282\u70B9\r\n        update:null,     // \u4FDD\u5B58\u5F53\u524D\u7EC4\u4EF6\u7684\u66F4\u65B0\u51FD\u6570\r\n        props:{},     // \u4FDD\u5B58\u5F53\u524D\u7EC4\u4EF6\u7684props\r\n        attrs:{},     // \u4FDD\u5B58\u5F53\u524D\u7EC4\u4EF6\u7684attrs\r\n        propsOption,    // \u4FDD\u5B58\u5F53\u524D\u7EC4\u4EF6\u58F0\u660E\u63A5\u53D7\u7684\u5C5E\u6027\r\n        component:null,  // \u4FDD\u5B58\u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\u5BF9\u8C61\u5BF9\u5E94\u7684\u7EC4\u4EF6\r\n        proxy:null,     // \u4FDD\u5B58\u5BF9\u5F53\u524D\u7EC4\u4EF6\u7684props attrs \u4EE5\u53CA data\u7684\u4EE3\u7406\r\n        render:null,     //\r\n        setupState:null, //\u4FDD\u5B58setup\u8FD4\u56DE\u7684\u6570\u636E\r\n        slots:null,   //\u4FDD\u5B58\u63D2\u69FD\r\n        exposed:null,\r\n        parent,\r\n        ctx:{} as any, // \u82E5\u662Fkeepalive\u7EC4\u4EF6 \u5C31\u5C06dom api \u653E\u5165\u6B64\u5C5E\u6027\u4E2D\r\n        provides:parent?parent.provides:Object.create(null)\r\n    }\r\n    // 4\u3001\u8FD4\u56DE\u5B9E\u4F8B\u5BF9\u8C61\r\n    return instance\r\n}\r\n\r\n\r\n// \u521D\u59CB\u5316\u7EC4\u4EF6\u5C5E\u6027\u65B9\u6CD5\r\nconst initProps=(instance,rawProps)=>{\r\n    // \u4FDD\u5B58props \u548C attrs\r\n    const props ={}\r\n    const attrs ={}\r\n    \r\n    // \u4FDD\u5B58\u7528\u6237\u58F0\u660E\u63A5\u6536\u7684\u5C5E\u6027\r\n    const propsOption = instance.propsOption\r\n    // \u904D\u5386\u7528\u6237\u4F20\u5165\u7684\u5C5E\u6027\r\n    if (rawProps) {\r\n        for (const key in rawProps) {\r\n            // \u5224\u65AD\u7EC4\u4EF6\u662F\u5426\u58F0\u660E\u63A5\u6536\u6B64\u5C5E\u6027\r\n            if (key in propsOption ) {\r\n                // \u82E5\u7EC4\u4EF6\u58F0\u660E\u63A5\u53D7\u6B64\u5C5E\u6027\r\n                // \u5219\u5C06\u6B64\u5C5E\u6027\u52A0\u5165props\u4E2D\r\n                props[key]=rawProps[key]  \r\n            } else {\r\n                // \u82E5\u7EC4\u4EF6\u672A\u58F0\u660E\u63A5\u6536\u6B64\u5C5E\u6027\r\n                // \u5219\u5C06\u6B64\u5C5E\u6027\u52A0\u5165attrs\u4E2D\r\n                attrs[key] = rawProps[key]\r\n            }\r\n        }\r\n    }\r\n    // \u5C06\u5F53\u524D\u6536\u96C6\u7684props attrs\r\n    // \u4FDD\u5B58\u5230\u7EC4\u4EF6\u5B9E\u4F8B\u8EAB\u4E0A\r\n    instance.props = reactive(props)  // props \u9700\u8981\u5305\u88F9\u4E3A\u54CD\u5E94\u5F0F\u5BF9\u8C61\r\n    instance.attrs = attrs\r\n}\r\n\r\n// \u521D\u59CB\u5316\u63D2\u69FD\u65B9\u6CD5\r\nconst initSlots=(instance,children)=>{\r\n    if (children | ShapeFlags.SLOTS_CHILDREN) {\r\n        // \u82E5\u662F\u63D2\u69FD\r\n        instance.slots=children\r\n    } else {\r\n        // \u5426\u5219\r\n        instance.slots={}\r\n    }\r\n}\r\n\r\n// \u516C\u5171\u5C5E\u6027\r\nconst publicProperty = {\r\n    $attrs:(instance)=>instance.attrs,\r\n    $slots:(instance)=>instance.slots\r\n    // ....\r\n}\r\n\r\n// \u521B\u5EFA\u4EE3\u7406\u56DE\u8C03\r\nconst handler={\r\n        get(target,key){\r\n            // \u89E3\u6784\u5F53\u524D\u5B9E\u4F8B \u53D6\u51FAprops data setupState\r\n            const {props,data,setupState}=target\r\n            if ( data && hasOwn(data,key) ) {\r\n                // \u82E5state\u6709key\u5C5E\u6027\r\n                return data[key]\r\n            } else if (props && hasOwn(props,key)) {\r\n                // \u82E5props\u6709key\u5C5E\u6027\r\n                return props[key]\r\n            }else if (setupState && hasOwn(setupState,key)) {\r\n                // \u82E5setupState\u6709key\u5C5E\u6027\r\n                return setupState[key]\r\n            }\r\n            // \u82E5props \u548C data \u90FD\u6CA1\u6709\r\n            // \u5219\u53BB$attrs $slot.. \u8EAB\u4E0A\u627E\r\n            const getter = publicProperty[key]\r\n            if (getter) {\r\n                return getter(target)\r\n            }\r\n        },\r\n        set(target,key,value){\r\n            // \u89E3\u6784\u5B9E\u4F8B\r\n            const {data,props,setupState} = target\r\n            if (data && hasOwn(data,key)) {\r\n                data[key]=value\r\n                return true\r\n            } else if(props && hasOwn(props,key)){\r\n                console.warn('props \u5C5E\u6027\u4E0D\u53EF\u4FEE\u6539');\r\n                return false\r\n            }else if(setupState && hasOwn(setupState,key)) {\r\n                setupState[key]=value\r\n                return true\r\n            }\r\n        }\r\n}\r\n    \r\n\r\n\r\n// 2\u3001\u521D\u59CB\u5316\u7EC4\u4EF6\r\nexport function setupComponent(instance) {\r\n    //\u89E3\u6784\u51FAvnode\r\n    const { vnode } = instance\r\n    // 1\u3001\u521D\u59CB\u5316\u7EC4\u4EF6\u5C5E\u6027\r\n    // \u5C06propsOption => props\u548Cattrs\r\n    // \u5C06\u7528\u6237\u4F20\u5165\u7684\u5C5E\u6027 \u53D8\u4E3A \u58F0\u660E\u63A5\u6536\u7684\u54CD\u5E94\u5F0F\u5C5E\u6027 \u4EE5\u53CA \u9ED8\u8BA4\u7684\u5C5E\u6027\r\n    initProps(instance,vnode.props)\r\n    \r\n    // 2\u3001\u521D\u59CB\u5316\u63D2\u69FD \r\n    initSlots(instance,vnode.children)\r\n\r\n    // 2\u3001\u521B\u5EFA\u4EE3\u7406\u5C5E\u6027\r\n    // \u7528\u4E8E\u4EE3\u7406props data attrs\r\n    instance.proxy=new Proxy(instance,handler)\r\n\r\n\r\n    // 3\u3001\u7ED9\u7EC4\u4EF6\u5B9E\u4F8B\u6DFB\u52A0data\u5C5E\u6027\r\n    // \u89E3\u6784\u51FAdata render setup\r\n    const { data=()=>{},render,setup } = vnode.type\r\n\r\n    // \u5224\u65AD\u662F\u5426\u6709setup\r\n    if (setup) {\r\n        // \u5982\u679C\u6709setup\r\n\r\n        // 1\u3001\u521B\u5EFA\u4E0A\u4E0B\u6587\r\n        const setupContext ={\r\n            slots:instance.slots,\r\n            attrs:instance.attrs,\r\n            expose(value){\r\n                instance.exposed = value\r\n            },\r\n            emit(event,...payload){\r\n                // \u83B7\u53D6\u4E8B\u4EF6\u540D\r\n                // onMyEvent => myEvent\r\n                const eventName = `on${event[0].toUpperCase()+event.slice(1)}`\r\n\r\n                // \u83B7\u53D6\u5BF9\u5E94\u56DE\u8C03\u51FD\u6570\r\n                const handler = instance.vnode.props[eventName]\r\n\r\n                // \u82E5\u5B58\u5728 \u5219\u6267\u884C\r\n                handler&&handler(...payload) \r\n            }\r\n        }\r\n\r\n        // 2\u3001\u6267\u884Csetup \u83B7\u53D6setup\u8FD4\u56DE\u7ED3\u679C\r\n        // \u6267\u884Csetup\u4E4B\u524D \u5C06\u5F53\u524D\u5B9E\u4F8B\u653E\u5728\u5168\u5C40\r\n        setCurrentInstance(instance)\r\n        const setupResult = setup(instance.props,setupContext)\r\n        // \u6267\u884Csetup\u4E4B\u543C \u5C06\u5168\u5C40\u5B9E\u4F8B\u7F6E\u7A7A\r\n        setCurrentInstance(null)\r\n\r\n        // 3\u3001\u5224\u65ADsetup\u8FD4\u56DE\u503C\u7C7B\u578B\r\n        if (isFunction(setupResult)) {\r\n            // \u82E5\u662F\u51FD\u6570\r\n            // => \u8FD4\u56DE\u7684\u5C31\u662Frender\u65B9\u6CD5\r\n            instance.render = setupResult\r\n        } else {\r\n            // \u82E5\u4E0D\u662F\u51FD\u6570 \u5219\u4E3A\u5BF9\u8C61\r\n            // => \u4FDD\u5B58\u6B64\u5BF9\u8C61\u6570\u636E\r\n            instance.setupState = proxyRefs(setupResult)   // \u81EA\u52A8\u8131ref\r\n        }\r\n    }\r\n\r\n    // \u5224\u65AD\u5F53\u524Ddata\u662F\u5426\u4E3A\u51FD\u6570\u5F0F\r\n    if (!isFunction(data)) {\r\n        // \u82E5\u4E0D\u662F \u5219\u6253\u5370\u9519\u8BEF\u4FE1\u606F\r\n        console.warn('data option must be a function');\r\n    }else{\r\n        // \u7ED9\u7EC4\u4EF6\u6DFB\u52A0data\u5C5E\u6027\r\n        // \u540C\u65F6\u5C06\u5176\u5305\u88F9\u4E3A\u54CD\u5E94\u5F0F \u5E76\u4E14\u66F4\u6539this\u6307\u5411  \u4F7F\u5176\u53EF\u4EE5\u8BBF\u95EE\u5230\u5176\u4ED6\u5C5E\u6027\r\n        instance.data = reactive(data.call(instance.proxy))\r\n    }\r\n    // 4\u3001\u7ED9\u7EC4\u4EF6\u5B9E\u4F8B\u6DFB\u52A0render\u5C5E\u6027\r\n    if (!instance.render) {\r\n        instance.render = render\r\n    }\r\n}\r\n\r\nexport let currentInstance =null\r\nexport const getCurrentInstance=()=>{\r\n    return currentInstance\r\n}\r\nexport const setCurrentInstance=(instance)=>{\r\n    currentInstance= instance\r\n}", "import { currentInstance, setCurrentInstance } from \"./component\"\r\n\r\nexport enum LifecycleHooks{\r\n    BEFORE_MOUNT='bm',\r\n    MOUNTED='m',\r\n    BEFORE_UPDATE='bu',\r\n    UPDATED='u',\r\n}\r\n\r\n// bm=[]\r\n// m =[]\r\n// bu=[]\r\n// u =[]\r\n\r\n// \u5229\u7528\u5DE5\u5382\u6A21\u5F0F\r\nfunction createHook(type) {\r\n    // type => \u5F53\u524Dhook\u5B58\u653E\u5230\u54EA\r\n    // hook => \u7528\u6237\u4F20\u9012\u7684\u94A9\u5B50\u56DE\u8C03\r\n    return (hook,target=currentInstance)=>{\r\n        console.log(hook,target);\r\n        // \u5224\u65AD\u5F53\u524D\u5B9E\u4F8B\u662F\u5426\u5B58\u5728\r\n        // \u56E0\u4E3A\u751F\u547D\u5468\u671F\u94A9\u5B50\u53EA\u80FD\u5728\u7EC4\u4EF6\u5185\u90E8\u4F7F\u7528\r\n        if (target) {\r\n            // \u751F\u547D\u5468\u671F\u94A9\u5B50 \u5FC5\u987B\u5728setup\u4E2D\u4F7F\u7528\r\n            const hooks = target[type] ||(target[type]=[])\r\n            \r\n            // \u5C06\u5305\u88F9\u540E\u7684hook\u52A0\u5165\u6570\u7EC4\r\n            // \u5229\u7528\u95ED\u5305\u673A\u5236 \u4FDD\u5B58\u5F53\u524Dtarget \u4F7F\u5F97\u540E\u7EED\u8C03\u7528\u94A9\u5B50\u65F6 \u4E0D\u4E22\u5931\u5BF9\u5E94\u5B9E\u4F8B\r\n            const wrapperHooks=()=>{\r\n                // \u5C06\u5F53\u524D\u5B9E\u4F8B\u653E\u5728\u5168\u5C40\r\n                setCurrentInstance(target)\r\n                // \u6267\u884Chook\r\n                hook.call(target)\r\n                // \u6E05\u7A7A\u5168\u5C40\u5B9E\u4F8B\r\n                setCurrentInstance(null)\r\n            }\r\n            hooks.push(wrapperHooks)\r\n        }\r\n    }\r\n}\r\n\r\nexport const onBeforeMount = createHook(LifecycleHooks.BEFORE_MOUNT)\r\nexport const onMounted = createHook(LifecycleHooks.MOUNTED)\r\nexport const onBeforeUpdate = createHook(LifecycleHooks.BEFORE_UPDATE)\r\nexport const onUpdated = createHook(LifecycleHooks.UPDATED)\r\n\r\n\r\nexport const invokeArr =(arr)=>{\r\n    arr.forEach(hook =>hook());\r\n}", "\r\nimport { getCurrentInstance } from \"./component\"\r\nimport { onMounted,onUpdated } from \"./apiLifeCycle\"\r\nimport { ShapeFlags } from \"@vue/shared\"\r\n\r\nexport const KeepAlive = {\r\n    // \u6807\u8BC6\r\n    __isKeepAlive:true,\r\n    // \u63A5\u6536\u5C5E\u6027\r\n    props:{\r\n        max:Number\r\n    },\r\n    setup(props,{slots}){\r\n        const {max} =props\r\n        // \u7528\u4E8E\u8BB0\u5F55\u54EA\u4E9B\u7EC4\u4EF6\u7F13\u5B58\u8FC7\r\n        const keys = new Set()   \r\n        // \u521B\u5EFA\u7F13\u5B58\u8868\r\n        // <keep-alive key='a'>\r\n        //      <xxx>  </xxx>\r\n        // <keep-alive>\r\n        const cache = new Map()\r\n        // \u4FDD\u5B58\u5F85\u7F13\u5B58\u7EC4\u4EF6\u7684key\u503C\r\n        let pendingCacheKey = null\r\n        // \u83B7\u53D6\u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\r\n        const instance = getCurrentInstance()\r\n\r\n        \r\n        // \u7F13\u5B58\r\n        const cacheSubtree = ()=>{\r\n            // \u7F13\u5B58key\u503C \u4E0E \u5BF9\u5E94\u7684dom\u5143\u7D20\r\n            cache.set(pendingCacheKey,instance.subTree)\r\n        }\r\n\r\n\r\n        const {move,createElement,unmount:_unmount} = instance.ctx.renderer\r\n        // \u6B64\u5904\u662Fkeepalive\u7279\u6709\u7684\u521D\u59CB\u5316\u65B9\u6CD5\r\n        // \u6FC0\u6D3B\u65F6\u6267\u884C\r\n        instance.ctx.activate=function (vnode,container,anchor) {\r\n            move(vnode,container,anchor)\r\n        }\r\n        // \u5378\u8F7D\u65F6\u6267\u884C\r\n        // \u521B\u5EFA\u5B58\u50A8\u5BB9\u5668 \r\n        const storageContent = createElement('div')\r\n        instance.ctx.deactivate=function (vnode) {\r\n            move(vnode,storageContent,null)   // \u5C06\u5F53\u524Ddom\u5143\u7D20\u79FB\u52A8\u81F3\u5B58\u50A8\u5BB9\u5668\r\n        }\r\n\r\n        // \u5220\u9664\u6807\u5FD7\u4FE1\u606F\r\n        function reset(vnode){\r\n            let shapeFlag = vnode.shapeFlag\r\n\r\n            // \u5220\u9664\u6807\u5FD7\u4FE1\u606F\r\n            if (shapeFlag&ShapeFlags.COMPONENT_KEPT_ALIVE) {\r\n                shapeFlag-=ShapeFlags.COMPONENT_KEPT_ALIVE\r\n            }\r\n            if (shapeFlag&ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE) {\r\n                shapeFlag-=ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE\r\n            }\r\n\r\n            vnode.shapeFlag=shapeFlag\r\n        }\r\n\r\n        // \u5220\u9664dom\u5143\u7D20\r\n         function  unmount(cached){\r\n            //\u5220\u9664\u6807\u5FD7\u4FE1\u606F\r\n            reset(cached)\r\n            // \u8C03\u7528\u5220\u9664\u65B9\u6CD5\r\n            _unmount(cached)\r\n         }\r\n        // \u6E05\u9664\u7F13\u5B58\r\n        function purneCacheEntry(key) {\r\n            keys.delete(key)\r\n\r\n            // \u83B7\u53D6\u7F13\u5B58\u7684\u7ED3\u679C\r\n            const cached = cache.get(key)\r\n\r\n            // \u5220\u9664dom\u5143\u7D20\r\n            unmount(cached)\r\n        }\r\n\r\n        // \u5F53\u5F53\u524DkeepLive\u6302\u8F7D\u5B8C\u6210\u65F6\r\n        onMounted(cacheSubtree)\r\n        // \u5F53\u5F53\u524DkeepLive\u66F4\u65B0\u5B8C\u6210\u65F6\r\n        onUpdated(cacheSubtree)\r\n\r\n\r\n        return ()=>{\r\n\r\n            // \u83B7\u53D6\u771F\u6B63\u8981\u6E32\u67D3\u7684\u865A\u62DF\u8282\u70B9\r\n            const vnode = slots.default()\r\n\r\n            // \u83B7\u53D6key\u503C\r\n            const comp = vnode.type\r\n            const key = vnode.key===null?comp:vnode.key\r\n            // \u5148\u4FDD\u5B58\u5F53\u524Dkey\u503C\r\n            pendingCacheKey=key\r\n\r\n            // \u6839\u636E\u5F53\u524Dkey \u67E5\u627E\u7F13\u5B58\u8868\r\n            const cacheVNode = cache.get(key)\r\n            if (cacheVNode) {\r\n                // \u82E5\u6709\u7F13\u5B58\r\n                // \u590D\u7528\u7EC4\u4EF6 \u907F\u514D\u91CD\u590D\u521B\u5EFA\r\n                vnode.component = cacheVNode.component\r\n                // \u6807\u8BC6\u5F53\u524D\u865A\u62DF\u8282\u70B9\u4E3Akeepalive\u7EC4\u4EF6\r\n                // => \u4F7F\u5F97\u5F53\u524D\u865A\u62DF\u8282\u70B9\u53EF\u4EE5\u4E0D\u7528\u518D\u8FDB\u884C\u521D\u59CB\u5316\u64CD\u4F5C\r\n                vnode.shapeFlag|=ShapeFlags.COMPONENT_KEPT_ALIVE\r\n\r\n                // \u5C06\u5F53\u524Dkey\u503C\u653E\u5728\u6700\u672B\u5C3E \u6807\u8BC6\u5F53\u524D\u8BFB\u53D6\u4E86key\r\n                // \u7528\u4E8E\u914D\u5408LRU\u7B97\u6CD5\r\n                keys.delete(key)\r\n                keys.add(key)\r\n            } else {\r\n                // \u82E5\u65E0\u7F13\u5B58\r\n                // \u5C06\u5F53\u524Dkey\u503C\u7F13\u5B58\r\n                keys.add(key)\r\n                // \u5F53\u524D\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u7EC4\u4EF6 \u7B49\u5230\u5176\u6E32\u67D3\u5B8C\u6210\u540E\u518D\u53BB\u7F13\u5B58\r\n                \r\n                // \u5224\u65AD\u5F53\u524D\u662F\u5426\u8D85\u51FA\u7F13\u5B58\u9650\u989D\r\n                if (max && keys.size > max) {\r\n                    // \u82E5\u8D85\u51FA\r\n                    // \u8C03\u7528\u65B9\u6CD5 \u5220\u9664\u7B2C\u4E00\u4E2A\r\n                    purneCacheEntry(keys.keys().next().value)\r\n                }\r\n            }\r\n\r\n            // \u5F53\u524D\u5143\u7D20\u4E0D\u4E0D\u9700\u8981\u5378\u8F7D \u53EA\u8981\u8C03\u7528deactivate\u65B9\u6CD5 \u5B58\u5165\u6307\u5B9A\u5BB9\u5668\u5C31\u597D\r\n            vnode.shapeFlag|=ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE\r\n            return vnode\r\n        }\r\n    }\r\n}\r\nexport const isKeepAlive =(value)=>value.type.__isKeepAlive", "\r\nimport  {hasOwn, ShapeFlags}  from \"@vue/shared\";\r\nimport { createVNode, Fragment, isSameVnode, Text } from \"./createVnode\";\r\nimport { getSequence } from \"./seq\";\r\nimport { isRef, reactive, ReactiveEffect } from \"@vue/reactivity\";\r\nimport { queueJob } from \"./scheduler\";\r\nimport { createComponentInstance, setupComponent } from \"./component\";\r\nimport { invokeArr } from \"./apiLifeCycle\";\r\nimport { isKeepAlive } from \"./KeepAlive\";\r\nimport { PatchFlags } from \"packages/shared/src/patchFlags\";\r\n\r\nexport function createRenderer(renderOptions) {\r\n    // core\u4E2D \u4E0D\u5173\u5FC3\u5982\u4F55\u6E32\u67D3\r\n    // debugger\r\n    // \u5BF9\u8C61\u89E3\u6784 \u65B9\u6CD5\u91CD\u547D\u540D\r\n    const {\r\n        insert: hostInsert,\r\n        remove: hostRemove,\r\n        patchProp: hostPatchProp,\r\n        createElement: hostCreateElement,\r\n        createText: hostCreateText,\r\n        createComment: hostCreateComment,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n        parentNode: hostParentNode,\r\n        nextSibling: hostNextSibling,\r\n        querySelector:hostQuerySelector\r\n    } = renderOptions;\r\n\r\n    const normalize =(children)=>{\r\n        // \u82E5\u662F\u6570\u7EC4\r\n        if (Array.isArray(children)) {\r\n            // \u904D\u5386\u5B69\u5B50\u6570\u7EC4\r\n            for (let i = 0; i < children.length; i++) {\r\n                // childrenArr[i] \u53EF\u80FD\u662F\u7EAF\u6587\u672Cor\u6570\u7EC4\r\n                if (typeof children[i] ==='string'|| typeof children[i] ==='number' ) {\r\n                    // \u521B\u9020\u51FA\u865A\u62DF\u8282\u70B9\r\n                    children[i]=createVNode(Text,null,String(children[i]))\r\n                }\r\n            }\r\n        }\r\n        return children\r\n    }\r\n    // \u6302\u8F7D\u5B69\u5B50\u6570\u7EC4\u65B9\u6CD5\r\n    const mountChildren=(childrenArr,container,anchor,parentComponent)=>{\r\n            normalize(childrenArr)\r\n            for (let i = 0; i < childrenArr.length; i++) {\r\n                // \u8C03\u7528\u6E32\u67D3\u65B9\u6CD5 \u6E32\u67D3\u81F3container\u4E0A\r\n                patch(null,childrenArr[i],container,anchor,parentComponent)\r\n            }\r\n            \r\n    }\r\n\r\n    // \u6302\u8F7D\u5143\u7D20\u65B9\u6CD5\r\n    // => \u6839\u636E\u5F53\u524D\u865A\u62DF\u8282\u70B9\u751F\u6210\u771F\u5B9E\u5143\u7D20 \u6302\u8F7D\u81F3\u5BF9\u5E94\u5BB9\u5668\u4E0A\r\n    const mountElement=(vnode,container,anchor,parentComponent)=>{\r\n        \r\n        // 1\u3001\u6839\u636E\u5F53\u524D\u865A\u62DF\u8282\u70B9 \u751F\u6210\u5BF9\u5E94 \u771F\u5B9E\u8282\u70B9\r\n        \r\n        // 1-1 \u89E3\u6784\u5F53\u524D\u865A\u62DF\u8282\u70B9 \u53D6\u51FAtype props children ShapeFlag transition\u5C5E\u6027\r\n        const {type,props,children,shapeFlag,transition}=vnode\r\n        \r\n        // 1-2 \u6839\u636Etype \u751F\u6210\u5BF9\u5E94\u771F\u5B9E\u8282\u70B9\r\n        // \u6B64\u5904 \u9700\u8981\u5C06\u5F53\u524D\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\u7F13\u5B58\u8D77\u6765\r\n        // => \u4FBF\u4E8E\u540E\u7EED\u5B9E\u73B0diff\u7B97\u6CD5 \u5B9E\u73B0\u771F\u5B9E\u8282\u70B9\u7684\u590D\u7528\r\n        const el =(vnode.el=hostCreateElement(type))\r\n        // 1-3 \u6839\u636Eprops \u7ED9\u751F\u6210\u7684\u771F\u5B9E\u8282\u70B9\u7ED1\u5B9A\u5C5E\u6027\r\n        if (props) {\r\n            // \u904D\u5386props\r\n            for (const key in props) {\r\n                // \u8C03\u7528\u914D\u7F6E\u5C5E\u6027\u65B9\u6CD5\r\n                hostPatchProp(el,key,null,props[key])\r\n            }\r\n        }\r\n\r\n        // 1-4 \u6839\u636Echildren\u7C7B\u578B \u7ED9\u751F\u6210\u7684\u771F\u5B9E\u8282\u70B9\u7ED1\u5B9Achildren\r\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            // \u82E5\u513F\u5B50\u662F\u6587\u672C\u5143\u7D20\r\n            hostSetElementText(el,children)\r\n        }else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n            // \u82E5\u513F\u5B50\u662F\u6570\u7EC4\u5143\u7D20\r\n            // \u8C03\u7528\u6302\u8F7D\u6570\u7EC4\u5B69\u5B50\u65B9\u6CD5\r\n            mountChildren(children,el,anchor,parentComponent)\r\n        }\r\n\r\n        // \u6E32\u67D3\u4E4B\u524D  \u8C03\u7528beforeEnter\u65B9\u6CD5\r\n        if (transition) {\r\n            transition.beforeEnter(el)\r\n        }\r\n\r\n\r\n        // 2\u3001\u5C06\u771F\u5B9E\u8282\u70B9\u6302\u8F7D\u81F3\u5BF9\u5E94\u5BB9\u5668\u4E0A\r\n        hostInsert(el,container,anchor)\r\n\r\n        // \u6E32\u67D3\u4E4B\u540E  \u8C03\u7528enter\u65B9\u6CD5\r\n        if (transition) {\r\n            transition.enter(el)\r\n        }\r\n    }\r\n\r\n    // \u5904\u7406\u65B0\u65E7\u865A\u62DF\u8282\u70B9\u65B9\u6CD5\r\n    const processElement=(preVNode,curVNode,container,anchor,parentComponent)=>{ \r\n        if (preVNode===null) {\r\n            // \u82E5\u65E7\u865A\u62DF\u8282\u70B9\u4E3A\u7A7A\r\n            // => \u8BF4\u660E\u662F\u9996\u6B21\u6E32\u67D3\r\n            // \u8C03\u7528\u6302\u8F7D\u5143\u7D20\u65B9\u6CD5\r\n            mountElement(curVNode,container,anchor,parentComponent)\r\n        }else{\r\n            // \u82E5\u65E7\u865A\u62DF\u8282\u70B9\u4E0D\u4E3A\u7A7A\r\n            // => \u5F53\u524D\u65B0\u65E7\u865A\u62DF\u8282\u70B9 \u7C7B\u578B\u3001key\u503C\u90FD\u76F8\u540C\r\n            // => \u9700\u8981\u5BF9\u6BD4\u65B0\u65E7\u865A\u62DF\u8282\u70B9 \u5B9E\u73B0\u590D\u7528\r\n            patchElement(preVNode,curVNode,container,anchor,parentComponent)\r\n        }\r\n    }\r\n\r\n    // \u7ED9\u771F\u5B9E\u8282\u70B9\u6E32\u67D3\u5C5E\u6027 \u65B9\u6CD5\r\n    const patchProps = (preVNode,curVNode,el)=>{\r\n        // 1\u3001\u83B7\u53D6\u65B0\u65E7\u865A\u62DF\u8282\u70B9\u5C5E\u6027\r\n        let oldProps = (preVNode.props || {})\r\n        let newProps = (curVNode.props || {})\r\n\r\n        // 2\u3001\u5C06\u65B0\u865A\u62DF\u8282\u70B9\u7684\u5168\u90E8\u5C5E\u6027\r\n        // => \u6DFB\u52A0\u81F3\u771F\u5B9E\u8282\u70B9\u8EAB\u4E0A\r\n        for (const key in newProps) {\r\n            hostPatchProp(el,key,oldProps[key],newProps[key])\r\n        }\r\n\r\n        // 3\u3001\u5C06\u65E7\u865A\u62DF\u8282\u70B9\u7684\u591A\u4F59\u5C5E\u6027\r\n        // => \u4ECE\u771F\u5B9E\u8282\u70B9\u8EAB\u4E0A\u79FB\u9664\r\n        for (const key in oldProps) {\r\n            if (!(key in newProps)) {\r\n                hostPatchProp(el,key,oldProps[key],null)\r\n            }\r\n        }\r\n    }\r\n\r\n    // \u6E05\u9664\u865A\u62DF\u8282\u70B9\u5B69\u5B50\u6570\u7EC4\r\n    const unmountChildren=(ChildrenArr,parentComponent)=>{\r\n        for (let i = 0; i < ChildrenArr.length; i++) {\r\n            unmount(ChildrenArr[i],parentComponent)\r\n        }\r\n    }\r\n\r\n    // \u5168\u91CFdiff\r\n    const patchKeyedChildren=(preChildren,curChildren,el,parentComponent)=>{\r\n        // debugger\r\n        // 1\u3001\u786E\u5B9A\u66F4\u65B0\u8303\u56F4\r\n        let i = 0\r\n        let preEndIndex = preChildren.length-1\r\n        let curEndIndex = curChildren.length-1\r\n\r\n        // \u4ECE\u524D\u5F80\u540E\u904D\u5386\r\n        while (i<=preEndIndex&&i<=curEndIndex) {\r\n            if (isSameVnode(preChildren[i],curChildren[i])) {\r\n                // \u82E5\u662F\u76F8\u540C\u8282\u70B9\r\n                // \u5219\u66F4\u65B0\u5176\u5C5E\u6027\u53CA\u5B69\u5B50\r\n                patch(preChildren[i],curChildren[i],el)\r\n            } else {\r\n                // \u82E5\u4E0D\u662F\r\n                // \u4E2D\u6B62\u5FAA\u73AF\r\n                break\r\n            }\r\n            i++\r\n        }\r\n\r\n        // \u4ECE\u540E\u5F80\u524D\u904D\u5386\r\n        while (i<=preEndIndex&&i<=curEndIndex) {\r\n            if (isSameVnode(preChildren[preEndIndex],curChildren[curEndIndex])) {\r\n                // \u82E5\u662F\u76F8\u540C\u8282\u70B9\r\n                // \u5219\u66F4\u65B0\u5176\u5C5E\u6027\u53CA\u5B69\u5B50\r\n                patch(preChildren[preEndIndex],curChildren[curEndIndex],el)\r\n            } else {\r\n                // \u82E5\u4E0D\u662F\r\n                // \u4E2D\u6B62\u5FAA\u73AF\r\n                break\r\n            }\r\n            preEndIndex--\r\n            curEndIndex--\r\n        }\r\n        // debugger\r\n        //[a,b]\r\n        //[a,b,c]\r\n        // => i=2 preEndIndex=1 curEndIndex=2\r\n        //[a,b]\r\n        //[c,a,b]\r\n        // => i=0 preEndIndex=-1 curEndIndex=0\r\n        // \u5982\u679C\u65B0\u7684\u591A \u8001\u7684\u5C11\r\n        // [a,d]\r\n        // [a,b,c,d]\r\n        if (i > preEndIndex) {\r\n            if (i <= curEndIndex) {\r\n                // \u6B64\u65F6\u9700\u8981\u5C06\u65B0\u7684\u5143\u7D20\u63D2\u5165\r\n\r\n                // \u83B7\u53D6\u951A\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u5143\u7D20\r\n                let nextIndex = curEndIndex+1\r\n                let anchor = curChildren[nextIndex]?.el\r\n                \r\n                // \u5C06\u65B0\u5143\u7D20\u63D2\u5165\r\n                while (i<=curEndIndex) {\r\n                    patch(null,curChildren[i],el,anchor)\r\n                    i++\r\n                }\r\n            }\r\n        }else if (i>curEndIndex){\r\n            // \u5982\u679C\u65B0\u7684\u5C11 \u8001\u7684\u591A\r\n            // [a,b,c,d,e]\r\n            // [a,b,c]\r\n            // => i=3 preEndIndex=4 curEndIndex=2\r\n            // [d,e,a,b,c]\r\n            // [a,b,c]\r\n            // => i=0 preEndIndex=1 curEndIndex=-1\r\n            if (i<=preEndIndex) {\r\n                // \u5220\u9664\u65E7\u7684\u591A\u4F59\u8282\u70B9\r\n                while (i<=preEndIndex) {\r\n                    unmount(preChildren[i],parentComponent)\r\n                    i++\r\n                }\r\n            }\r\n        }\r\n\r\n        // [a,b,c,d,e,f]\r\n        // [a,b,e,d,c,g,f]\r\n        let preStarIndex = i\r\n        let curStarIndex = i\r\n\r\n        // \u5BF9\u4E8E\u65B0\u5143\u7D20\u7684\u8303\u56F4 \u5EFA\u7ACB\u7D22\u5F15\r\n        const keyToNewIndexMap=new Map()\r\n        // \u9700\u8981\u5012\u5E8F\u63D2\u5165\u7684\u4E2A\u6570\r\n        let toBePatched = curEndIndex-curStarIndex+1\r\n        // \u4FDD\u5B58\u65B0\u5143\u7D20\u8303\u56F4\u5185\u5143\u7D20\u5728\u65E7\u5B69\u5B50\u5185\u7684\u7D22\u5F15\r\n        // => \u7528\u4E8E\u6C42\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217 \r\n        // => \r\n        let newIndxToOldMapIndex=new Array(toBePatched).fill(0) //[0,0,0,0]\r\n\r\n\r\n        // \u904D\u5386\u65B0\u5143\u7D20\u7684\u8303\u56F4\r\n        for (let i = curStarIndex; i <=curEndIndex; i++) {\r\n            // \u5EFA\u7ACB\u6620\u5C04\r\n            // \u5EFA\u7ACB\u65B0\u5143\u7D20 key \u4E0E \u7D22\u5F15\u4E0B\u6807 \u7684\u6620\u5C04\r\n            keyToNewIndexMap.set(curChildren[i].key,i)\r\n        }\r\n\r\n        // \u904D\u5386 \u65E7\u5143\u7D20\u8303\u56F4\r\n        for (let i = preStarIndex; i <= preEndIndex; i++) {\r\n            // \u67E5\u770B\u5F53\u524D\u65E7\u5143\u7D20\u662F\u5426\u5728\u65B0\u5143\u7D20\u5185\u51FA\u73B0\r\n            // \u6839\u636E\u65E7\u5143\u7D20\u7684key\u503C \u67E5\u627E\r\n            // => \u8FD4\u56DE\u503C\u4E3A\u5F53\u524D\u65E7\u5143\u7D20\u5728\u65B0\u5B69\u5B50\u6570\u7EC4\u4E2D\u7684\u7D22\u5F15\u4E0B\u6807\r\n            let newIndex = keyToNewIndexMap.get(preChildren[i].key)\r\n            \r\n            // \u5224\u65AD\u7D22\u5F15\u4E0B\u6807\u662F\u5426\u5B58\u5728\r\n            // => \u53CA\u5F53\u524D\u65E7\u5143\u7D20\u662F\u5426\u5728\u65B0\u5143\u7D20\u5185\u51FA\u73B0\r\n            if (newIndex===undefined) {\r\n                // \u82E5\u672A\u51FA\u73B0 \r\n                // => \u5220\u9664\u6B64\u65E7\u5143\u7D20\r\n                unmount(preChildren[i],parentComponent)\r\n            } else {\r\n                // \u82E5\u51FA\u73B0\r\n                // 1\u3001\u4FDD\u5B58\u65B0\u5143\u7D20\u5BF9\u5E94\u65E7\u5143\u7D20\u5728\u65E7\u5B69\u5B50\u5185\u7684\u4E0B\u6807\r\n                newIndxToOldMapIndex[newIndex - curStarIndex] = i+1 //+1 \u7528\u4E8E\u907F\u514Di\u4E3A0\u65F6\u5019\u7684\u6B67\u4E49\r\n                // 2\u3001\u66F4\u65B0\u5C5E\u6027\u53CA\u513F\u5B50 \r\n                // => \u9012\u5F52\u8BBF\u95EE\u5B50\u8282\u70B9\r\n                patch(preChildren[i],curChildren[newIndex],el)\r\n            }\r\n        } \r\n        console.log(newIndxToOldMapIndex);\r\n        \r\n\r\n        \r\n        // \u5012\u5E8F\u63D2\u5165\r\n        \r\n        // \u83B7\u53D6\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\r\n        let increasingSeq = getSequence(newIndxToOldMapIndex)\r\n        let j = increasingSeq.length-1\r\n        \r\n        for (let i = toBePatched-1; i >=0; i--) {\r\n            let newIndex = curStarIndex+i\r\n            let anchor=curChildren[newIndex+1]?.el\r\n\r\n            if (!curChildren[newIndex].el) {\r\n                // \u82E5\u5F53\u524D\u5143\u7D20 \u662F\u65B0\u589E\u8282\u70B9 \u8FD8\u672A\u521B\u5EFA\u5BF9\u5E94\u771F\u5B9E\u8282\u70B9\r\n                // \u5219\u8C03\u7528patch\u65B9\u6CD5 \u521B\u5EFA\u771F\u5B9E\u8282\u70B9\r\n                patch(null,curChildren[newIndex],el,anchor)\r\n            }else{\r\n                // diff\u7B97\u6CD5\u4F18\u5316\r\n                if (i === increasingSeq[j]) {\r\n                    j-- \r\n                } else {\r\n                    // \u5426\u5219 \u76F4\u63A5\u63D2\u5165\r\n                    hostInsert(curChildren[newIndex].el,el,anchor)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // \u7ED9\u771F\u5B9E\u8282\u70B9\u6E32\u67D3\u5B69\u5B50 \u65B9\u6CD5\r\n    const patchChildren=(preVNode,curVNode,el,anchor,parentComponent)=>{\r\n        // \u8282\u70B9\u5B69\u5B50\u6709\u4E09\u79CD\u60C5\u51B5 \u7A7A | \u6570\u7EC4 | \u6587\u672C\r\n        // \u6240\u4EE5\u5BF9\u6BD4\u65B0\u65E7\u8282\u70B9\u7684\u5B69\u5B50 \u8981\u8003\u86519\u79CD\u60C5\u51B5\r\n\r\n        // \u83B7\u53D6\u5B69\u5B50\r\n        let  preChildren = normalize(preVNode.children)\r\n        let  curChildren = normalize(curVNode.children)\r\n\r\n        // \u83B7\u53D6\u865A\u62DF\u8282\u70B9\u6807\u8BB0\r\n        let preShapeflag = preVNode.shapeFlag\r\n        let curShapeflag = curVNode.shapeFlag\r\n\r\n        // \u65B0\u65E7\u865A\u62DF\u8282\u70B9\u5B69\u5B50\u7684\u7C7B\u578B \u5B58\u5728\u5982\u4E0B\u60C5\u51B5\uFF1A\r\n        // 1\u3001\u65B0\uFF1A\u6587\u672C  \u65E7\uFF1A\u6570\u7EC4    \r\n        // => \u79FB\u9664\u65E7\u6570\u7EC4 \r\n        // 2\u3001\u65B0\uFF1A\u6587\u672C  \u65E7\uFF1A\u6587\u672C|\u7A7A    \r\n        // => \u7528\u65B0\u6587\u672C\u8986\u76D6\r\n        // 3\u3001\u65E7\uFF1A\u6570\u7EC4  \u65B0\uFF1A\u6570\u7EC4   \r\n        // => \u5168\u91CFdiff\r\n        // 4\u3001\u65E7\uFF1A\u6570\u7EC4  \u65B0\uFF1A\u7A7A\r\n        // => \u79FB\u9664\u65E7\u6570\u7EC4\r\n        // 5\u3001\u65E7\uFF1A\u6587\u672C  \u65B0\uFF1A\u7A7A|\u6570\u7EC4\r\n         // => \u79FB\u9664\u65E7\u6587\u672C \u6DFB\u52A0\u65B0\u6570\u7EC4\r\n\r\n        if (curShapeflag & ShapeFlags.TEXT_CHILDREN) {\r\n            if (preShapeflag & ShapeFlags.ARRAY_CHILDREN) {\r\n                // 1\u3001\u65B0\uFF1A\u6587\u672C  \u65E7\uFF1A\u6570\u7EC4   \r\n                // => \u79FB\u9664\u65E7\u6570\u7EC4 \r\n                debugger;\r\n                unmountChildren(preChildren,parentComponent)\r\n            }\r\n            if (preChildren!==curChildren) {\r\n                // 2\u3001\u65B0\uFF1A\u6587\u672C  \u65E7\uFF1A\u6587\u672C|\u7A7A    \r\n                // => \u7528\u65B0\u6587\u672C\u8986\u76D6\r\n                hostSetElementText(el,curChildren)\r\n            }\r\n        }else{\r\n            if (preShapeflag& ShapeFlags.ARRAY_CHILDREN) {\r\n                if (curShapeflag&ShapeFlags.ARRAY_CHILDREN) {\r\n                    // 3\u3001\u65E7\uFF1A\u6570\u7EC4  \u65B0\uFF1A\u6570\u7EC4   \r\n                    // => \u5168\u91CFdiff\r\n                    patchKeyedChildren(preChildren,curChildren,el,parentComponent)\r\n                }else{\r\n                    // 4\u3001\u65E7\uFF1A\u6570\u7EC4  \u65B0\uFF1A\u7A7A\r\n                    // => \u79FB\u9664\u65E7\u6570\u7EC4\r\n                    unmountChildren(preChildren,parentComponent)\r\n                }\r\n            }else{\r\n                // 5\u3001\u65E7\uFF1A\u6587\u672C  \u65B0\uFF1A\u7A7A|\u6570\u7EC4\r\n                // => \u79FB\u9664\u65E7\u6587\u672C \u6DFB\u52A0\u65B0\u6570\u7EC4\r\n                if (preShapeflag&ShapeFlags.TEXT_CHILDREN) {\r\n                    hostSetElementText(el,'')\r\n                }\r\n\r\n                if (curShapeflag & ShapeFlags.ARRAY_CHILDREN) {\r\n                    mountChildren(curChildren,el,anchor,parentComponent )\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // \u7EBF\u6027\u5BF9\u6BD4\u7B97\u6CD5\r\n    const patchBlockChildren=(preVNode,curVNode,el,anchor,parentComponent)=>{\r\n        // \u53EA\u9700\u8981\u6E32\u67D3\u52A8\u6001\u5B50\u8282\u70B9\r\n        for (let i = 0; i < curVNode.dynamicChildren.length; i++) {\r\n            patch(preVNode.dynamicChildren[i],curVNode.dynamicChildren[i],el,anchor,parentComponent)\r\n        }\r\n    }\r\n    \r\n\r\n    // \u65B0\u65E7\u865A\u62DF\u8282\u70B9\u5BF9\u6BD4\u65B9\u6CD5\r\n    const patchElement=(preVNode,curVNode,container,anchor,parentComponent)=>{\r\n        // 1\u3001\u5B9E\u73B0\u771F\u5B9E\u8282\u70B9\u7684\u590D\u7528\r\n        // \u56E0\u4E3A\u5F53\u524D\u65B0\u65E7\u865A\u62DF\u8282\u70B9 \u7C7B\u578B\u548Ckey \u90FD\u76F8\u540C\r\n        // => \u6240\u4EE5\u53EF\u4EE5\u590D\u7528dom\r\n        let el = (curVNode.el=preVNode.el)\r\n\r\n        // 2\u3001\u7ED9\u590D\u7528\u7684\u771F\u5B9E\u8282\u70B9\u6E32\u67D3\u5C5E\u6027\r\n        // => \u9776\u5411\u5BF9\u6BD4 or \u5168\u91CF\u5BF9\u6BD4\r\n        // \u89E3\u6784\u51FApatchFlag dynamicChildren\r\n        const {patchFlag,dynamicChildren} = curVNode\r\n        // \u5224\u65AD\u662F\u5426\u6709\u52A8\u6001\u6807\u8BC6\r\n        if (patchFlag) {\r\n            // => \u9776\u5411\u5BF9\u6BD4\r\n            // \u53EA\u9700\u8981\u5BF9\u6BD4\u7279\u5B9A\u7684\u5C5E\u6027\r\n            \r\n            if (patchFlag&PatchFlags.CLASS) {\r\n                // .........\r\n            }\r\n            if (patchFlag&PatchFlags.STYLE) {\r\n                // .........\r\n            }\r\n        } else {\r\n            // \u5168\u91CF\u5BF9\u6BD4\r\n            patchProps(preVNode,curVNode,el)\r\n        }\r\n\r\n        // \u5BF9\u6BD4\u6587\u672C\r\n        if (patchFlag&PatchFlags.TEXT) {\r\n                // \u82E5\u6587\u672C\u4E3A\u52A8\u6001\u7C7B\u578B\r\n                if (preVNode.children!==curVNode.children) {\r\n                    // \u53EA\u8981\u4E0D\u4E00\u81F4\r\n                    return hostSetElementText(el,curVNode.children)\r\n                }\r\n        }\r\n\r\n        // 3\u3001\u7ED9\u590D\u7528\u7684\u771F\u5B9E\u8282\u70B9\u6E32\u67D3\u5B69\u5B50\r\n        // => \u7EBF\u6027\u6BD4\u5BF9 or \u5168\u91CFdiff\r\n        if (dynamicChildren) {\r\n            // \u7EBF\u6027\u6BD4\u5BF9\r\n            patchBlockChildren(preVNode,curVNode,el,anchor,parentComponent)\r\n        } else {\r\n            // \u5168\u91CFdiff\r\n            patchChildren(preVNode,curVNode,el,anchor,parentComponent)\r\n        }\r\n    }\r\n\r\n    // \u5904\u7406\u6587\u672C\u7C7B\u578B\r\n    const processText=(preVNode,curVNode,container)=>{\r\n        // 1\u3001\u5224\u65AD\u5224\u65AD\u662F\u521D\u59CB\u5316\u8FD8\u662F\u66F4\u65B0\r\n        // => \u5373\u5224\u65AD\u65E7\u865A\u62DF\u8282\u70B9\u662F\u5426\u5B58\u5728\r\n        if (preVNode==null) {\r\n            // \u521D\u59CB\u5316\r\n            // 1\u3001\u6839\u636E\u5F53\u524D\u865A\u62DF\u8282\u70B9\u7684\u5B69\u5B50(\u5373\u6587\u672C\u5185\u5BB9) \u521B\u5EFA\u51FA\u6587\u672C\u8282\u70B9\r\n            // 2\u3001\u5C06\u6587\u672C\u8282\u70B9\u4E0E\u5F53\u524D\u865A\u62DF\u8282\u70B9\u76F8\u5173\u8054(\u65B9\u4FBF\u540E\u7EED\u5B9E\u73B0\u66F4\u65B0)\r\n            // 3\u3001\u63D2\u5165\u81F3\u5BB9\u5668\u4E2D\r\n            hostInsert((curVNode.el=hostCreateText(curVNode.children)),container)\r\n        } else {\r\n            // \u66F4\u65B0\u64CD\u4F5C\r\n            // 1\u3001\u590D\u7528\u65E7\u865A\u62DF\u8282\u70B9\u7684dom\r\n            curVNode.el = preVNode.el\r\n            // 2\u3001\u66F4\u65B0\u5B69\u5B50\r\n            hostSetText(curVNode.el,curVNode.children)\r\n        }\r\n    }\r\n\r\n    // \u5904\u7406\u788E\u7247\u7C7B\u578B\r\n    const processFragment= (preVNode,curVNode,container,anchor,parentComponent)=>{\r\n        // \u5224\u65AD\u521D\u6B21\u6E32\u67D3\u8FD8\u662F\u66F4\u65B0\r\n        if (preVNode==null) {\r\n            // \u521D\u6B21\u6E32\u67D3\r\n            // => \u5C06\u5F53\u524D\u865A\u62DF\u8282\u70B9\u7684\u5B69\u5B50\u6302\u8F7D\u81F3\u5BB9\u5668\u4E0A\r\n            mountChildren(curVNode.children,container,anchor,parentComponent)\r\n        } else {\r\n            // \u66F4\u65B0\r\n            // => \u6E32\u67D3\u5B69\u5B50\u8282\u70B9\r\n            patchChildren(preVNode,curVNode,container,anchor,parentComponent)\r\n        }\r\n    }\r\n\r\n    // \u66F4\u65B0\u7EC4\u4EF6\u9884\u6E32\u67D3\u65B9\u6CD5\r\n    const updateComponentPreRender=(instance,curVNode)=>{\r\n        // \u6E05\u9664\u5B9E\u4F8Bnext\u5C5E\u6027\r\n        instance.next=null\r\n        // \u66F4\u65B0\u5B9E\u4F8B\u5BF9\u5E94\u865A\u62DF\u8282\u70B9\r\n        instance.vnode=curVNode\r\n\r\n        // \u8C03\u7528\u66F4\u65B0\u5C5E\u6027\u65B9\u6CD5\r\n        updateProps(instance,instance.props,curVNode.props||{})\r\n\r\n        // \u66F4\u65B0\u63D2\u69FD\r\n        Object.assign(instance.slots,curVNode.children)\r\n    }\r\n\r\n    // -> \u521B\u5EFA\u7EC4\u4EF6\u66F4\u65B0\u51FD\u6570\r\n    const setupReactiveEffect =(instance,container,anchor,parentComponent)=>{\r\n        const componentUpdateFn=()=>{\r\n            // \u89E3\u6784\u51FArender\u65B9\u6CD5\r\n            const {render,m,bm,u,bu} = instance\r\n            // \u9700\u8981\u5224\u65AD\u662F\u521D\u6B21\u6E32\u67D3\u8FD8\u662F\u66F4\u65B0\r\n            if (!instance.isMounted) {\r\n                // \u521D\u6B21\u6E32\u67D3\r\n                // > \u83B7\u53D6subTree\r\n                // \u56E0\u4E3Arender\u7684\u8FD4\u56DE\u503C\u624D\u662F\u6211\u4EEC\u771F\u6B63\u9700\u8981\u6E32\u67D3\u7684\u865A\u62DF\u8282\u70B9 \u6240\u6709\u6211\u4EEC\u9700\u8981\u6267\u884Crender\u51FD\u6570\r\n                // \u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u7ED1\u5B9Athis\u6307\u5411\r\n                // \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3Aproxy\r\n                const subTree = render.call(instance.proxy,instance.proxy)\r\n                \r\n                // \u8C03\u7528bm\r\n                if (bm) {\r\n                    // \u6267\u884Cbm\u5185\u7684\u65B9\u6CD5\r\n                    invokeArr(bm)\r\n                }\r\n                // > \u6E32\u67D3subTree\r\n                patch(null,subTree,container,anchor,instance)\r\n                // > \u66F4\u65B0\u7EC4\u4EF6\u5C5E\u6027\r\n                instance.subTree = subTree\r\n                instance.isMounted=true\r\n\r\n                // \u8C03\u7528m\r\n                if (m) {\r\n                    // \u6267\u884Cm\u5185\u7684\u65B9\u6CD5\r\n                    invokeArr(m)\r\n                }\r\n            }else{\r\n                // \u7EC4\u4EF6\u66F4\u65B0\r\n\r\n                // \u6570\u636E&\u63D2\u69FD\u66F4\u65B0\u903B\u8F91\r\n                // \u5224\u65AD\u5F53\u524D\u5B9E\u4F8B\u8EAB\u4E0A\u662F\u5426\u6709next\u5C5E\u6027\r\n                if (instance.next) {\r\n                    // \u89E3\u6784\u51FAnext\r\n                    const {next} = instance\r\n                    // \u8C03\u7528\u66F4\u65B0\u7EC4\u4EF6\u9884\u6E32\u67D3\u65B9\u6CD5\r\n                    updateComponentPreRender(instance,next)\r\n                }\r\n\r\n                // \u8C03\u7528m\r\n                if (bu) {\r\n                    // \u6267\u884Cm\u5185\u7684\u65B9\u6CD5\r\n                    invokeArr(bu)\r\n                }\r\n                // > \u83B7\u53D6\u65B0\u5B50\u6811\r\n                const subTree = render.call(instance.proxy,instance.proxy)\r\n                // > \u8C03\u7528patch\u65B9\u6CD5 \u6E32\u67D3\u65B0\u5B50\u6811\r\n                patch(instance.subTree,subTree,container,anchor,instance)\r\n                // > \u66F4\u65B0\u7EC4\u4EF6\u5C5E\u6027\r\n                instance.subTree=subTree\r\n\r\n                // \u8C03\u7528u\r\n                if (u) {\r\n                    // \u6267\u884Cm\u5185\u7684\u65B9\u6CD5\r\n                    invokeArr(u)\r\n                }\r\n            }\r\n    }\r\n        // -> \u521B\u5EFA\u54CD\u5E94\u5F0Feffect\r\n        const effect=new ReactiveEffect(componentUpdateFn,()=>queueJob(update))\r\n        // -> \u521B\u5EFAeffect\u56DE\u8C03\u65B9\u6CD5\r\n        const update=(instance.update=()=>effect.run())\r\n        // -> \u9ED8\u8BA4\u6267\u884C\u4E00\u6B21\r\n        update()\r\n}\r\n    \r\n    // \u6302\u8F7D\u7EC4\u4EF6\u65B9\u6CD5\r\n    const mountComponent=(curVNode,container,anchor,parentComponent)=>{\r\n        // \u7EC4\u4EF6\u6709\u81EA\u5DF1\u7684\u72B6\u6001(\u6570\u636E) \u6570\u636E\u53D1\u751F\u53D8\u5316 \u7EC4\u4EF6\u9700\u8981\u66F4\u65B0\r\n        // => \u7EC4\u4EF6 \u7C7B\u4F3C effect\r\n        // 1\u3001\u521B\u5EFA\u7EC4\u4EF6\r\n        // \u5F53\u524D\u7EC4\u4EF6\u865A\u62DF\u8282\u70B9\u4FDD\u5B58\u5176\u5BF9\u5E94\u7684\u7EC4\u4EF6\u5B9E\u4F8B\u5BF9\u8C61\r\n        const instance = (curVNode.component=createComponentInstance(curVNode,parentComponent))\r\n        \r\n        // \u5224\u65AD\u5F53\u524D\u865A\u62DF\u8282\u70B9\u662F\u5426\u4E3Akeepalive\r\n        if (isKeepAlive(curVNode)) {\r\n            // \u82E5\u662F\u865A\u62DF\u8282\u70B9\r\n            // \u6DFB\u52A0\u65B9\u6CD5\r\n            Object.defineProperty(curVNode.ctx,'renderer',{\r\n                value:{\r\n                // 1\u3001\u5185\u90E8\u9700\u8981\u6709\u521B\u5EFA\u5143\u7D20\u65B9\u6CD5 \u7528\u4E8E\u521B\u5EFA\u7F13\u5B58dom\u7684\u5BB9\u5668\r\n                createElement:hostCreateElement,\r\n                // 2\u3001\u9700\u8981\u5C06\u8981\u7F13\u5B58\u7684dom\u79FB\u52A8\u81F3\u5BB9\u5668\u5185\r\n                move(vnode,container,anchor){\r\n                    hostInsert(vnode.component.subTree.el,container,anchor)\r\n                },\r\n                // 3\u3001\u7EC4\u4EF6\u5207\u6362\u65F6\u9700\u8981\u5C06\u5BB9\u5668\u5185\u7684dom\u5143\u7D20\u79FB\u9664\r\n                unmount\r\n            }\r\n            })\r\n        }\r\n\r\n        // 2\u3001\u521D\u59CB\u5316\u7EC4\u4EF6\r\n        setupComponent(instance)\r\n\r\n        // 3\u3001\u521B\u5EFA\u54CD\u5E94\u5F0Feffect\r\n        setupReactiveEffect(instance,container,anchor,parentComponent)\r\n    }\r\n\r\n    // \u5224\u65AD\u65B0\u65E7\u5C5E\u6027\u662F\u5426\u76F8\u540C\r\n    const hasPropsChanged=(preProps,curProps)=>{\r\n        const nKeys = Object.keys(preProps)\r\n        // \u82E5\u5C5E\u6027\u4E2A\u6570\u4E0D\u540C \u5FC5\u7136\u4E0D\u540C\r\n        if (nKeys.length !== Object.keys(curProps).length) {\r\n            return true\r\n        }\r\n\r\n        // \u904D\u5386\u65E7\u5C5E\u6027\r\n        for (let i = 0; i < nKeys.length; i++) {\r\n            let key = nKeys[i]\r\n            if (preProps[key]!== curProps[key]) {\r\n                return true\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    // \u66F4\u65B0props\u65B9\u6CD5\r\n    const updateProps=(instance,preProps,curProps)=>{\r\n        // \u5224\u65AD\u5F53\u524D\u65B0\u65E7\u5C5E\u6027\u662F\u5426\u76F8\u540C\r\n        if(hasPropsChanged(preProps,curProps||{})){\r\n            // \u82E5\u4E0D\u76F8\u540C\r\n\r\n            // \u6DFB\u52A0or\u66FF\u6362\u65B0\u5C5E\u6027\r\n            const curKeys = Object.keys(curProps)\r\n            for (let i = 0; i < curKeys.length; i++) {\r\n                let key = curKeys[i]\r\n                instance.props[key]=curProps[key] \r\n            }\r\n\r\n            // \u53BB\u9664\u65E7\u7684\u591A\u4F59\u5C5E\u6027\r\n            for (const key in instance.props) {\r\n                if (!(key in curProps)) {\r\n                    delete instance.props[key]\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // \u5224\u65AD\u662F\u5426\u9700\u8981\u66F4\u65B0\r\n    const shouldComponentUpdate=(preVNode,curVNode)=>{\r\n        // \u89E3\u6784\u5F53\u524D\u65B0\u65E7\u865A\u62DF\u8282\u70B9\r\n        const {props:preProps,children:preChildren}=preVNode\r\n        const {props:curProps,children:curChildren}=curVNode\r\n\r\n        // \u5224\u65AD\u662F\u5426\u6709\u63D2\u69FD(children)\r\n        if (preChildren || curChildren) {\r\n            // \u82E5\u6709 \u5219\u5FC5\u987B\u8981\u91CD\u65B0\u6E32\u67D3\r\n            return true\r\n        }\r\n\r\n        // \u5224\u65AD\u65B0\u65E7props\u662F\u5426\u76F8\u540C\r\n        if (preProps===curProps) {\r\n            return false\r\n        }\r\n        \r\n        return hasPropsChanged(preProps,curProps||{})\r\n    }\r\n    // \u66F4\u65B0\u7EC4\u4EF6\r\n    const updateComponent=(preVNode,curVNode)=>{\r\n        // 1\u3001\u7EC4\u4EF6\u590D\u7528\r\n        const instance = (curVNode.component=preVNode.component)\r\n\r\n        // // 2\u3001\u66F4\u65B0props\r\n        // // \u83B7\u53D6\u65B0\u65E7props\r\n        // const {props:preProps} = preVNode\r\n        // const {props:curProps} = curVNode\r\n        // updateProps(instance,preProps,curProps)\r\n\r\n        // \u5224\u65AD\u5F53\u524D\u7EC4\u4EF6\u662F\u5426\u9700\u8981\u66F4\u65B0\r\n        if (shouldComponentUpdate(preVNode,curVNode)) {\r\n            // \u82E5\u9700\u8981\u66F4\u65B0\r\n\r\n            // \u8BB0\u5F55\u5F53\u524D\u65B0\u865A\u62DF\u8282\u70B9\r\n            instance.next =curVNode\r\n\r\n            // \u8C03\u7528\u66F4\u65B0\u65B9\u6CD5\r\n            // => \u4F7F\u5F97\u66F4\u65B0\u903B\u8F91\u7EDF\u4E00\r\n            instance.update()\r\n        }\r\n    }\r\n    // \u5904\u7406\u7EC4\u4EF6\u65B9\u6CD5\r\n    const processComponent=(preVNode,curVNode,container,anchor,parentComponent)=>{\r\n        \r\n        // \u5224\u65AD\u521D\u6B21\u6E32\u67D3\u8FD8\u662F\u66F4\u65B0\r\n        if (preVNode==null) {\r\n            // \u521D\u6B21\u6E32\u67D3\r\n            \r\n            // \u5224\u65AD\u5F53\u524D\u865A\u62DF\u8282\u70B9\u662F\u5426\u4E3Akeepalive\u7C7B\u578B\r\n            if (curVNode.shapeFlag&ShapeFlags.COMPONENT_KEPT_ALIVE) {\r\n                // \u82E5\u662F\r\n                // \u8C03\u7528keepalive\u7684\u6FC0\u6D3B\u65B9\u6CD5\r\n                // => \u4ECE\u800C\u907F\u514D\u91CD\u65B0\u6302\u8F7D\r\n                parentComponent.ctx.activate(curVNode,container,anchor)\r\n            } else {\r\n                // \u82E5\u4E0D\u662F\r\n                // \u8C03\u7528\u6302\u8F7D\u7EC4\u4EF6\u65B9\u6CD5\r\n                mountComponent(curVNode,container,anchor,parentComponent)\r\n            }\r\n        } else {\r\n            // \u66F4\u65B0\u7EC4\u4EF6\r\n            updateComponent(preVNode,curVNode)\r\n        }\r\n    }\r\n\r\n    // \u6E32\u67D3\u65B9\u6CD5\r\n    const patch=(preVNode,curVNode,container,anchor=null,parentComponent=null)=>{\r\n        \r\n        // \u82E5\u65B0\u65E7\u865A\u62DF\u8282\u70B9\u76F8\u540C\r\n        // \u5219 \u65E0\u9700\u91CD\u65B0\u6302\u8F7D\r\n        if (preVNode===curVNode) {\r\n            // \u65E0\u9700\u4EFB\u4F55\u64CD\u4F5C \u76F4\u63A5\u8FD4\u56DE\r\n            return \r\n        }\r\n\r\n        // \u82E5\u65E7\u865A\u62DF\u8282\u70B9\u5B58\u5728 \u4E14\u65B0\u65E7\u865A\u62DF\u8282\u70B9\u4E0D\u76F8\u540C\r\n        if (preVNode && !isSameVnode(preVNode,curVNode)) {\r\n            // \u6E05\u9664\u65E7\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\r\n            unmount(preVNode,parentComponent)\r\n            // \u5C06 \u65E7\u865A\u62DF\u8282\u70B9 \u7F6E\u7A7A\r\n            // => \u4F7F\u5F97\u65B0\u865A\u62DF\u8282\u70B9\u53EF\u4EE5\u8D70\u521D\u59CB\u5316\u903B\u8F91\r\n            preVNode=null\r\n        }\r\n\r\n        // \u6839\u636E\u5F53\u524D\u8282\u70B9\u7C7B\u578B,ShapeFlag \u5206\u60C5\u51B5\u5904\u7406\r\n        let {type,shapeFlag,ref} = curVNode\r\n        \r\n        switch (type) {\r\n            case Text:\r\n                // \u5BF9\u6587\u672C\u7C7B\u578B\u8FDB\u884C\u5904\u7406\r\n                processText(preVNode,curVNode,container)\r\n                break;\r\n            case Fragment:\r\n                // \u5BF9\u788E\u7247\u7C7B\u578B\u8FDB\u884C\u5904\u7406\r\n                processFragment(preVNode,curVNode,container,anchor,parentComponent)\r\n                break;\r\n            default:\r\n                if (shapeFlag&ShapeFlags.COMPONENT) {\r\n                    // \u5BF9\u7EC4\u4EF6\u7C7B\u578B\u8FDB\u884C\u5904\u7406\r\n                    processComponent(preVNode,curVNode,container,anchor,parentComponent)\r\n                } else if (shapeFlag&ShapeFlags.TELEPORT) {\r\n                    // \u8C03\u7528\u5176\u81EA\u8EAB\u7684process\u65B9\u6CD5\r\n                    // \u540C\u65F6\u4F20\u9012\u53C2\u6570\u4EE5\u53CA\u65B9\u6CD5\u5BF9\u8C61\r\n                    type.process(preVNode,curVNode,container,anchor,parentComponent,\r\n                        {\r\n                        // \u4F20\u9012\u65B9\u6CD5\r\n                        mountChildren,\r\n                        patchChildren,\r\n                        query:hostQuerySelector,\r\n                        move(vnode,container,anchor){\r\n                            hostInsert(vnode.component?vnode.component.subTree.el:vnode.el,\r\n                                container,anchor\r\n                            )\r\n                        }\r\n                        }\r\n                    )\r\n                } if(shapeFlag&ShapeFlags.ELEMENT) {\r\n                    // \u5BF9\u5143\u7D20\u8FDB\u884C\u5904\u7406\r\n                    processElement(preVNode,curVNode,container,anchor,parentComponent)\r\n                    break;\r\n                }\r\n        }\r\n\r\n        // \u6E32\u67D3\u5B8C\u6210\u540E\r\n        // \u66F4\u65B0\u865A\u62DF\u8282\u70B9\u7684ref\u5C5E\u6027\r\n        if (ref !==null) {\r\n            // \u8C03\u7528\u8BBE\u7F6Eref\u65B9\u6CD5\r\n            setRef(ref,curVNode)\r\n        }\r\n    }\r\n    // \u8BBE\u7F6Eref\u65B9\u6CD5\r\n    const setRef=(rawRef,curVNode)=>{\r\n        // \u89E3\u6784\u865A\u62DF\u8282\u70B9\r\n        const {shapeFlag} = curVNode\r\n\r\n        // \u6839\u636E\u865A\u62DF\u8282\u70B9\u786E\u5B9Aref\u7684\u503C\r\n        let value = shapeFlag &  ShapeFlags.STATEFUL_COMPONENT?curVNode.component.exposed || curVNode.component.proxy:curVNode.el\r\n        \r\n        // \u8D4B\u503C\r\n        if (isRef(rawRef)) {\r\n            rawRef.value = value\r\n        }\r\n    }\r\n\r\n    // \u5378\u8F7D\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u771F\u5B9E\u8282\u70B9\u65B9\u6CD5\r\n    const unmount=(vnode,parentComponent)=>{\r\n        const{shapeFlag}=vnode\r\n        // \u8C03\u7528\u79FB\u9664\u65B9\u6CD5\r\n        // \u79FB\u9664\u5F53\u524D\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\r\n        if (vnode.shapeFlag&ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE) {\r\n            // \u82E5\u662Fkeepalive \u8C03\u7528deactivate\u65B9\u6CD5\r\n            parentComponent.ctx.deactivate(vnode)\r\n        }else if (vnode.type==='Fragment') {\r\n            unmountChildren(vnode.children,parentComponent)\r\n        }else if(shapeFlag&ShapeFlags.COMPONENT){\r\n            // \u82E5\u662F\u7EC4\u4EF6\r\n            // \u5378\u8F7D\u5B50\u6811\r\n            unmount(vnode.component.subTree,parentComponent)\r\n        }else if(shapeFlag&ShapeFlags.TELEPORT){\r\n            // \u82E5\u662FTELEPORT\r\n            vnode.type.remove(vnode,unmountChildren)\r\n        }else{\r\n            hostRemove(vnode.el)\r\n        }\r\n    }\r\n    // render\u65B9\u6CD5\r\n    const render=(vnode,container)=>{\r\n\r\n        // \u5224\u65ADvnode\u662F\u5426\u4E3A\u7A7A\r\n        if (vnode === null) {\r\n            // \u82E5\u4E3A\u7A7A\r\n            // render(null,app)\r\n            // \u5224\u65AD\u5F53\u524Dcontainer\u662F\u5426\u5DF2\u7ECF\u6302\u8F7D\u8FC7\u8282\u70B9\r\n            if (container.vnode) {\r\n                // \u82E5\u6302\u8F7D\u8FC7\r\n                // \u6B64\u65F6\u9700\u8981\u5C06\u6B64\u865A\u62DF\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9 \u79FB\u9664\r\n                unmount(container.vnode,null)\r\n            }\r\n        }else{\r\n            // \u8C03\u7528\u6E32\u67D3\u65B9\u6CD5\r\n            // \u53C2\u6570\u4E3A\uFF1A\r\n            // \u5F53\u524Dcontainer\u7684\u65E7\u865A\u62DF\u8282\u70B9\u3001\u5F53\u524D\u8981\u6302\u8F7D\u7684\u65B0\u865A\u62DF\u8282\u70B9\u3001\u5BB9\u5668\r\n            // \u521D\u6B21\u6E32\u67D3\u65F6 \u65E7\u865A\u62DF\u8282\u70B9\u4E3A\u7A7A\r\n            patch(container.vnode||null,vnode,container)\r\n            \r\n            // \u7F13\u5B58\u5F53\u524D\u6302\u8F7D\u7684\u865A\u62DF\u8282\u70B9\r\n            container.vnode = vnode\r\n        }\r\n    }\r\n    return {\r\n        render,\r\n    }\r\n}", "import { getCurrentInstance } from \"./component\";\r\n\r\nexport function inject(key,defaultValue) {\r\n    // \u4F8B\uFF1Aconst name = inject('name')\r\n    // \u4F8B\uFF1Aconst name = inject('name','ywh')\r\n    // 1\u3001\u5224\u65AD\u5F53\u524Dprovide \u662F\u5426\u5199\u5728\u7EC4\u4EF6\u5185\u90E8\r\n    let currentInstance = getCurrentInstance()\r\n    if (!currentInstance) return\r\n    // 2\u3001\u5224\u65AD\u7236\u7EC4\u4EF6\u4E0A\u662F\u5426\u63D0\u4F9B\u4E86\u6B64\u5C5E\u6027\r\n    const parentProvides = currentInstance.parent?.provides\r\n    if (parentProvides && key in parentProvides) {\r\n        // \u7236\u7EC4\u4EF6\u4E0A\u63D0\u4F9B\u4E86\u6B64\u5C5E\u6027\r\n        return parentProvides[key]\r\n    }else if(defaultValue){\r\n        return defaultValue\r\n    }\r\n}\r\n\r\nexport function provide(key,value) {\r\n    // \u4F8B\uFF1Aprovide('name',state.name)\r\n\r\n    // \u56E0\u4E3Aprovide \u5C06\u5C5E\u6027\u6302\u8F7D\u81F3\u7EC4\u4EF6\u8EAB\u4E0A\r\n    // \u6240\u4EE5 \u5148\u5224\u65AD\u5F53\u524Dprovide \u662F\u5426\u5199\u5728\u7EC4\u4EF6\u5185\u90E8 \r\n    // 1\u3001\u5224\u65AD\u5F53\u524Dprovide \u662F\u5426\u5199\u5728\u7EC4\u4EF6\u5185\u90E8\r\n    let currentInstance = getCurrentInstance()\r\n    // \u82E5\u5F53\u524D\u7EC4\u4EF6\u5B9E\u4F8B\u4E3A\u7A7A \u8BF4\u660E\u672A\u5199\u5728\u7EC4\u4EF6\u5185\u90E8 \r\n    // =>   \u76F4\u63A5\u8FD4\u56DE\r\n    if (!currentInstance)  return\r\n\r\n    // 2\u3001\u83B7\u53D6\u5B50\u7EC4\u4EF6\u548C\u7236\u7EC4\u4EF6\u7684provide\r\n    // * * * * * * * * * * * * * * * * * *\r\n    // \u5F53\u524D\u7EC4\u4EF6\u7B2C\u4E00\u6B21\u7684provides \u4E00\u5B9A\u6765\u81EA\u4E8E\u7236\u7EC4\u4EF6\u7684provides(\u5F53\u7236\u7EC4\u4EF6\u5B58\u5728\u65F6)\r\n    // => \u76F4\u63A5\u62F7\u8D1D\u4E00\u4EFD \u4F5C\u4E3A\u81EA\u5DF1\u7684provides\r\n    // =>   \u4E0B\u6B21\u5F53\u524D\u7EC4\u4EF6\u8C03\u7528provide()\u65F6 \u83B7\u53D6\u7684\u5C31\u662F\u81EA\u5DF1\u7684provides\r\n    // =>   \u907F\u514D\u91CD\u590D\u521B\u5EFAprovides,\u4E5F\u907F\u514D\u4EA4\u53C9\u5F71\u54CD\r\n    // * * * * * * * * * * * * * * * * * *\r\n    let provides = currentInstance.provides\r\n    const parentProvides = currentInstance.parent&&currentInstance.parent.provides\r\n    // \u5224\u65AD\u4E8C\u8005\u662F\u5426\u76F8\u7B49\r\n    if (provides === parentProvides) {\r\n        // \u82E5\u76F8\u7B49\r\n        // \u5C06\u7236\u7EC4\u4EF6provides \u62F7\u8D1D\u4E00\u4EFD\r\n        // =>   \u907F\u514D\u5B50\u7EC4\u4EF6\u4FEE\u6539provides \u5F71\u54CD\u7236\u7EC4\u4EF6\r\n        provides =(currentInstance.provides = Object.create(parentProvides))\r\n    }\r\n\r\n    // 3\u3001\u8D4B\u503C\r\n    provides[key]=value\r\n}", "import { h } from \"../h\"\r\n\r\n\r\nconst nextFrame=(fn)=>{\r\n    requestAnimationFrame(()=>{\r\n        requestAnimationFrame(()=>{\r\n            fn\r\n        })\r\n    })\r\n}\r\n// \u5904\u7406\u5C5E\u6027\u65B9\u6CD5\r\nexport function resolveTransitionProps(props) {\r\n    // \u89E3\u6784\u5C5E\u6027\r\n    const {\r\n        name='v',\r\n        enterFromClass =`${name}-enter-from`,\r\n        enterActiveClass =`${name}-enter-active`,\r\n        enterToClass =`${name}-enter-to`,\r\n        leaveFromClass=`${name}-leave-from`,\r\n        leaveActiveClass=`${name}-leave-active`,\r\n        leaveToClass=`${name}-leave-to`,\r\n        onBeforeEnter,\r\n        onEnter,\r\n        onLeave,\r\n    }=props\r\n\r\n    return {\r\n        onBeforeEnter(el){\r\n            // \u6267\u884C\u5185\u7F6E\u65B9\u6CD5\r\n            onBeforeEnter&& onBeforeEnter()\r\n            // \u6DFB\u52A0\u7C7B\r\n            el.classList.add(enterFromClass)\r\n            el.classList.add(enterActiveClass)\r\n        },\r\n        onEnter(el,done){\r\n            const resolve = ()=>{\r\n                // \u79FB\u9664\u7C7B\u540D\r\n                // \u79FB\u9664\u7C7B\r\n                el.classList.remove(enterFromClass)\r\n                el.classList.remove(enterActiveClass)\r\n                // \u8C03\u7528done\u65B9\u6CD5\r\n                done && done()\r\n            }\r\n            // \u6267\u884C\u5185\u7F6E\u65B9\u6CD5\r\n            onEnter&& onEnter(el,resolve)\r\n\r\n            // \u53BB\u9664\u7C7B\r\n            // \u4FDD\u8BC1\u5176\u4E0D\u5728\u540C\u4E00\u5E27\u6267\u884C\r\n            nextFrame(()=>{ // \u4FDD\u8BC1\u52A8\u753B\u7684\u4EA7\u751F\r\n                // \u79FB\u9664\u7C7B\r\n                el.classList.remove(enterFromClass)\r\n                // \u6DFB\u52A0\u7C7B\r\n                el.classList.add(enterToClass)\r\n\r\n                // \u82E5\u7528\u6237\u672A\u63D0\u4F9BonEnter\u65B9\u6CD5\r\n                // \u6216\u672A\u63D0\u4F9Bdone\u53C2\u6570\r\n                if (!onEnter || onEnter.length<=1) {\r\n                    // \u6DFB\u52A0\u8FC7\u6E21\u7ED3\u675F\u4E8B\u4EF6\r\n                    el.addEventListener('transitionEnd',resolve)\r\n                }\r\n            })\r\n        },\r\n        onLeave(el,done){\r\n            const resolve = ()=>{\r\n                // \u79FB\u9664\u7C7B\u540D\r\n                // \u79FB\u9664\u7C7B\r\n                el.classList.remove(enterFromClass)\r\n                el.classList.remove(enterActiveClass)\r\n                // \u8C03\u7528done\u65B9\u6CD5\r\n                done && done()\r\n            }\r\n            // \u6267\u884C\u5185\u7F6E\u65B9\u6CD5\r\n            onEnter&& onEnter(el,resolve)\r\n            // \u6DFB\u52A0\u7C7B\r\n            el.classList.add(leaveFromClass)\r\n            // \u8BA9\u9875\u9762\u91CD\u7ED8\r\n            document.body.offsetHeight\r\n            el.classList.add(leaveActiveClass)\r\n\r\n            nextFrame(()=>{\r\n                el.classList.remove(leaveFromClass)\r\n                el.classList.add(leaveToClass)\r\n\r\n                // \u82E5\u7528\u6237\u672A\u63D0\u4F9BonEnter\u65B9\u6CD5\r\n                // \u6216\u672A\u63D0\u4F9Bdone\u53C2\u6570\r\n                if (!onEnter || onEnter.length<=1) {\r\n                    // \u6DFB\u52A0\u8FC7\u6E21\u7ED3\u675F\u4E8B\u4EF6\r\n                    el.addEventListener('transitionEnd',resolve)\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\nexport function Transition(props,{slots}) {\r\n        return h(BaseTransitionImpl,resolveTransitionProps(props),slots)\r\n}\r\n\r\n// \u771F\u6B63\u7684\u7EC4\u4EF6\r\n// \u6B64\u65F6\u53EA\u9700\u8981\u6E32\u67D3\u65F6 \u8C03\u7528\u5BF9\u5E94\u94A9\u5B50\u5373\u53EF\r\nconst BaseTransitionImpl ={\r\n    props:{\r\n        onBeforeEnter:Function,\r\n        onEnter:Function,\r\n        onLeave:Function,\r\n    },\r\n    setup(props,{slots}){\r\n        return ()=>{\r\n            const vnode =slots.default && slots.default()\r\n            if (!vnode) {\r\n                return\r\n            }\r\n            vnode.transition = {\r\n                beforeEnter:props.onBeforeEnter,\r\n                onEnter:props.onEnter,\r\n                leave:props.onLeave\r\n            }\r\n            return vnode\r\n        }\r\n    }\r\n}", "import { ref } from \"@vue/reactivity\"\r\nimport { h } from \"./h\"\r\nimport { isFunction } from \"@vue/shared\"\r\n\r\nexport const defineAsyncComponent =(options)=>{\r\n\r\n    // \u5224\u65AD\u662F\u51FD\u6570\u5F0F\u8FD8\u662F\u5BF9\u8C61\u5F0F\r\n    if (isFunction(options)) {\r\n        // \u82E5\u4E3A\u51FD\u6570\u5F0F\r\n        // \u5C06\u5176\u6539\u9020\u4E3A\u5BF9\u8C61\u5F0F\r\n        options = {loader:options}\r\n    }\r\n\r\n    return {\r\n        setup(){\r\n            // \u89E3\u6784\r\n            const {loader,timeout,errorComponent,delay,loadingComponent,onError}=options\r\n            // \u6807\u8BB0\u5F53\u524D\u662F\u5426\u52A0\u8F7D\u5B8C\u6210\r\n            const loaded = ref(false)\r\n            // \u6807\u8BB0\u662F\u5426\u51FA\u73B0\u9519\u8BEF\r\n            const error = ref(false)\r\n            // \u6807\u8BB0loading\r\n            const loading = ref(false)\r\n            // \u83B7\u53D6loaded\u51FD\u6570\u8FD4\u56DE\u7ED3\u679C\r\n            // \u7ED3\u679C\u4E3A\u771F\u6B63\u6E32\u67D3\u7684\u7EC4\u4EF6\r\n            let Comp =null\r\n            // \u4FDD\u5B58loading\u7684\u5B9A\u65F6\u5668\r\n            let loadingTimer=null\r\n\r\n            // \u521B\u5EFA\u5B9A\u65F6\u5668\r\n            if (timeout) {\r\n                setTimeout(() => {\r\n                    error.value=true\r\n                    throw new Error('\u7EC4\u4EF6\u52A0\u8F7D\u5931\u8D25\uFF01\uFF01')\r\n                }, timeout);\r\n            }\r\n\r\n            if (delay) {\r\n                loadingTimer=setTimeout(() => {\r\n                    loading.value=true\r\n                }, delay);\r\n            }\r\n\r\n            // \u4FDD\u5B58\u8BF7\u6C42\u6B21\u6570\r\n            let attempts = 0\r\n            function loadFunc() {\r\n                return loader().catch((err)=>{\r\n                    // \u82E5\u6267\u884C\u5931\u8D25\r\n                    // \u5224\u65AD\u662F\u5426\u6709onError\r\n                    if (onError) {\r\n                        // \u82E5\u6709\r\n                        return new Promise((resolve,reject)=>{\r\n                            // \u521B\u5EFAretry \u548C fail \u65B9\u6CD5\r\n                            const retry = ()=>resolve(loadFunc()) //\u9012\u5F52\r\n                            const fail =()=>reject(err)\r\n                            onError(err,retry,fail,++attempts)\r\n                        })\r\n                    }else{\r\n                        // \u82E5\u6CA1\u6709\r\n                        throw err // \u5C06\u9519\u8BEF\u4F20\u9012\r\n                    }   \r\n                })\r\n            }\r\n\r\n            loadFunc()\r\n            .then((comp)=>{\r\n                // \u8D4B\u503C\r\n                Comp = comp\r\n                // \u66F4\u65B0\u52A0\u8F7D\u6807\u8BB0\r\n                loaded.value=true\r\n            })\r\n            .catch((err)=>{\r\n                error.value=err\r\n            }).finally(()=>{\r\n                loading.value=false\r\n                clearTimeout(loadingTimer)\r\n            })\r\n\r\n            \r\n\r\n            let placeholder = h('div')\r\n\r\n            return ()=>{\r\n                if(loaded.value) {\r\n                    // \u82E5\u52A0\u8F7D\u6210\u529F\r\n                    return h(Comp)\r\n                }else if(error.value&&errorComponent){\r\n                    // \u82E5\u52A0\u8F7D\u5931\u8D25\r\n                    return h(errorComponent)\r\n                }else if(loading.value && loadingComponent){\r\n                    // \u82E5\u6B63\u5728\u52A0\u8F7D\u4E2D\r\n                    return h(loadingComponent)\r\n                }else {\r\n                    return placeholder\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"],
  "mappings": "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",
  "names": ["i", "effect", "ref", "source", "effect", "job", "handler", "LifecycleHooks", "i", "render", "effect", "container", "anchor", "ref", "currentInstance"]
}
